[TOC]

# ğŸ¥šğŸ¥šğŸ¥šC++å‘å±•å²

> C++æ˜¯ä¸€ç§è®¡ç®—æœºé«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”±[Cè¯­è¨€](https://baike.baidu.com/item/Cè¯­è¨€/105958)æ‰©å±•å‡çº§è€Œäº§ç”Ÿ ï¼Œæœ€æ—©äº1979å¹´ç”±[æœ¬è´¾å°¼Â·æ–¯ç‰¹åŠ³æ–¯ç‰¹å¢æ™®](https://baike.baidu.com/item/æœ¬è´¾å°¼Â·æ–¯ç‰¹åŠ³æ–¯ç‰¹å¢æ™®/10613051)åœ¨AT&Tè´å°”å·¥ä½œå®¤ç ”å‘ã€‚
>
> C++æ—¢å¯ä»¥è¿›è¡ŒCè¯­è¨€çš„è¿‡ç¨‹åŒ–[ç¨‹åºè®¾è®¡](https://baike.baidu.com/item/ç¨‹åºè®¾è®¡/223952)ï¼Œåˆå¯ä»¥è¿›è¡Œä»¥æŠ½è±¡æ•°æ®ç±»å‹ä¸ºç‰¹ç‚¹çš„åŸºäºå¯¹è±¡çš„ç¨‹åºè®¾è®¡ï¼Œè¿˜å¯ä»¥è¿›è¡Œä»¥ç»§æ‰¿å’Œå¤šæ€ä¸ºç‰¹ç‚¹çš„é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡ã€‚C++æ“…é•¿é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„åŒæ—¶ï¼Œè¿˜å¯ä»¥è¿›è¡ŒåŸºäºè¿‡ç¨‹çš„ç¨‹åºè®¾è®¡ã€‚
>
> C++æ‹¥æœ‰è®¡ç®—æœºè¿è¡Œçš„å®ç”¨æ€§ç‰¹å¾ï¼ŒåŒæ—¶è¿˜è‡´åŠ›äºæé«˜å¤§è§„æ¨¡ç¨‹åºçš„ç¼–ç¨‹è´¨é‡ä¸ç¨‹åºè®¾è®¡è¯­è¨€çš„é—®é¢˜æè¿°èƒ½åŠ›ã€‚

### å‘å±•å†ç¨‹

> 1970å¹´ï¼ŒAT&Tè´å°”å®éªŒå®¤çš„å·¥ä½œäººå‘˜D.Ritchieå’ŒK.Thompsonå…±åŒç ”å‘äº†Cè¯­è¨€ã€‚ç ”åˆ¶Cè¯­è¨€çš„åˆè¡·æ˜¯ç”¨å®ƒç¼–å†™UNIXç³»ç»Ÿç¨‹åºï¼Œå› æ­¤ï¼Œå®é™…ä¸ŠCè¯­è¨€æ˜¯UNIXçš„â€œå‰¯äº§å“â€ã€‚
>
> 1971å¹´ï¼Œç‘å£«è”é‚¦æŠ€æœ¯å­¦é™¢N.Wirthæ•™æˆå‘æ˜äº†ç¬¬ä¸€ä¸ªç»“æ„åŒ–çš„ç¼–ç¨‹è¯­è¨€[Pascal](https://baike.baidu.com/item/Pascal/241171)ã€‚
>
> 20ä¸–çºª70å¹´ä»£ä¸­æœŸï¼Œæœ¬è´¾å°¼Â·æ–¯ç‰¹åŠ³æ–¯ç‰¹å¢æ™®åœ¨å‰‘æ¡¥å¤§å­¦è®¡ç®—æœºä¸­å¿ƒå·¥ä½œã€‚æ–¯ç‰¹åŠ³æ–¯ç‰¹å¢æ™®å¸Œæœ›å¼€å‘ä¸€ä¸ªæ—¢è¦ç¼–ç¨‹ç®€å•ã€æ­£ç¡®å¯é ï¼Œåˆè¦è¿è¡Œé«˜æ•ˆã€å¯ç§»æ¤çš„è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€ã€‚è€Œä»¥Cè¯­è¨€ä¸ºèƒŒæ™¯ï¼Œä»¥[Simula](https://baike.baidu.com/item/Simula/6913723)æ€æƒ³ä¸ºåŸºç¡€çš„è¯­è¨€ï¼Œæ­£å¥½ç¬¦åˆæ–¯ç‰¹åŠ³æ–¯ç‰¹å¢æ™®çš„åˆè¡·å’Œè®¾æƒ³ã€‚
>
> 1979å¹´ï¼Œæœ¬è´¾å°¼Â·æ–¯ç‰¹åŠ³æ–¯ç‰¹å¢æ™®åˆ°äº†AT&Tè´å°”å®éªŒå®¤ï¼Œå¼€å§‹ä»äº‹å°†Cæ”¹è‰¯ä¸ºå¸¦ç±»çš„Cï¼ˆC with classesï¼‰çš„å·¥ä½œã€‚ã€1983å¹´ï¼Œè¯¥è¯­è¨€è¢«æ­£å¼å‘½åä¸ºC++ã€‚
>
> 1985å¹´ã€1990å¹´å’Œ1994å¹´ï¼ŒC++å…ˆåè¿›è¡Œ3æ¬¡ä¸»è¦ä¿®è®¢ã€‚
>
> C++çš„æ ‡å‡†åŒ–å·¥ä½œäº1989å¹´å¼€å§‹ï¼Œå¹¶æˆç«‹äº†ä¸€ä¸ª[ANSI](https://baike.baidu.com/item/ANSI/10401940)å’ŒISOï¼ˆInternational Standards Organizationï¼‰å›½é™…æ ‡å‡†åŒ–ç»„ç»‡çš„è”åˆæ ‡å‡†åŒ–å§”å‘˜ä¼šã€‚
>
> 1994å¹´1æœˆ25æ›°ï¼Œè”åˆæ ‡å‡†åŒ–å§”å‘˜ä¼šæå‡ºäº†ç¬¬ä¸€ä¸ªæ ‡å‡†åŒ–è‰æ¡ˆã€‚åœ¨è¯¥è‰æ¡ˆä¸­ï¼Œå§”å‘˜ä¼šåœ¨ä¿æŒæ–¯ç‰¹åŠ³æ–¯ç‰¹å¢æ™®æœ€åˆå®šä¹‰çš„æ‰€æœ‰ç‰¹å¾çš„åŒæ—¶ï¼Œè¿˜å¢åŠ äº†éƒ¨åˆ†æ–°ç‰¹å¾ã€‚
>
> åœ¨å®ŒæˆC++æ ‡å‡†åŒ–çš„ç¬¬ä¸€ä¸ªè‰æ¡ˆåä¸ä¹…ï¼Œäºšå†å±±å¤§Â·æ–¯ç‰¹æ½˜è¯ºå¤«ï¼ˆ[Alexander Stepanov](https://baike.baidu.com/item/Alexander Stepanov/9703963)ï¼‰åˆ›å»ºäº†æ ‡å‡†æ¨¡æ¿åº“ï¼ˆStandard Template Libraryï¼ŒSTLï¼‰ã€‚åœ¨é€šè¿‡äº†æ ‡å‡†åŒ–ç¬¬ä¸€ä¸ªè‰æ¡ˆä¹‹åï¼Œè”åˆæ ‡å‡†åŒ–å§”å‘˜ä¼šæŠ•ç¥¨å¹¶é€šè¿‡äº†å°†STLåŒ…å«åˆ°C++æ ‡å‡†ä¸­çš„æè®®ã€‚STLå¯¹C++çš„æ‰©å±•è¶…å‡ºäº†C++çš„æœ€åˆå®šä¹‰èŒƒå›´ã€‚è™½ç„¶åœ¨æ ‡å‡†ä¸­å¢åŠ STLæ˜¯ä¸ªå¾ˆé‡è¦çš„å†³å®šï¼Œä½†ä¹Ÿå› æ­¤å»¶ç¼“äº†C++æ ‡å‡†åŒ–çš„è¿›ç¨‹ã€‚
>
> 1997å¹´11æœˆ14æ—¥ï¼Œè”åˆæ ‡å‡†åŒ–å§”å‘˜ä¼šé€šè¿‡äº†è¯¥æ ‡å‡†çš„æœ€ç»ˆè‰æ¡ˆï¼Œ1998å¹´ï¼ŒC++çš„ANSI/IS0æ ‡å‡†è¢«æŠ•å…¥ä½¿ç”¨ã€‚

### è¯­è¨€æ ‡å‡†

> è‡ªC++çš„ANSI/IS0æ ‡å‡†æŠ•ç”¨ä»¥æ¥ï¼Œå…±è¿›è¡Œè¿‡5æ¬¡æ›´æ–°ã€‚

#### C++æ ‡å‡†æ›´æ–°è®°å½•

| **æ ‡å‡†ç‰ˆæœ¬** | **å‘å¸ƒæ—¶é—´**  |    **æ­£å¼åç§°**    |                         **æ›´æ–°å†…å®¹**                         |
| :----------: | :-----------: | :----------------: | :----------------------------------------------------------: |
|    C++ 03    |    2003å¹´     | ISO/IEC 14882:2003 |               å¯¹C++ 98ç‰ˆæœ¬çš„æ¼æ´åšäº†éƒ¨åˆ†ä¿®æ”¹ã€‚               |
|    C++ 11    | 2011å¹´8æœˆ12æ—¥ | ISO/IEC 14882:2011 | å¯¹å®¹å™¨ç±»çš„æ–¹æ³•åšäº†ä¸‰é¡¹ä¸»è¦ä¿®æ”¹ï¼š1ã€æ–°å¢äº†å³å€¼å¼•ç”¨ï¼Œå¯ä»¥ç»™å®¹å™¨æä¾›ç§»åŠ¨è¯­ä¹‰ã€‚2ã€æ–°å¢äº†æ¨¡æ¿ç±»initilizer_listï¼Œå› æ­¤å¯å°†initilizer_listä½œä¸ºå‚æ•°çš„æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ã€‚3ã€æ–°å¢äº†å¯å˜å‚æ•°æ¨¡æ¿ï¼ˆvariadic templateï¼‰å’Œå‡½æ•°å‚æ•°åŒ…ï¼ˆparameter packï¼‰ï¼Œå¯ä»¥æä¾›å°±åœ°åˆ›å»ºï¼ˆemplacementï¼‰æ–¹æ³•ã€‚ |
|    C++ 14    | 2014å¹´8æœˆ18æ—¥ | ISO/IEC 14882:2014 | C++11çš„å¢é‡æ›´æ–°ã€‚ä¸»è¦æ˜¯æ”¯æŒæ™®é€šå‡½æ•°çš„è¿”å›ç±»å‹æ¨æ¼”ï¼Œæ³›å‹lambdaï¼Œæ‰©å±•çš„lambdaæ•è·ï¼Œå¯¹constexprå‡½æ•°é™åˆ¶çš„ä¿®è®¢ï¼Œconstexprå˜é‡æ¨¡æ¿åŒ–ç­‰ã€‚ |
|    C++ 17    | 2017å¹´12æœˆ6æ—¥ | ISO/IEC 14882:2017 | æ–°å¢UTF-8 å­—ç¬¦æ–‡å­—ã€æŠ˜å è¡¨è¾¾å¼ï¼ˆfold expressionsï¼‰ï¼šç”¨äºå¯å˜çš„æ¨¡æ¿ã€å†…è”å˜é‡ï¼ˆinline variablesï¼‰ï¼šå…è®¸åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰å˜é‡ï¼›åœ¨ifå’Œswitchè¯­å¥å†…å¯ä»¥åˆå§‹åŒ–å˜é‡ï¼›ç»“æ„åŒ–ç»‘å®šï¼ˆStructured Bindingï¼‰ï¼šforï¼ˆauto [key,value] : my_mapï¼‰{â€¦}ï¼›ç±»æ¨¡æ¿å‚æ•°è§„çº¦ï¼ˆClass Template Argument Deductionï¼‰ï¼šç”¨pair p{1, 2.0}; æ›¿ä»£pair{1, 2.0};ï¼›&gt;ï¼›static_assertçš„æ–‡æœ¬ä¿¡æ¯å¯é€‰ï¼›åˆ é™¤trigraphsï¼›åœ¨æ¨¡æ¿å‚æ•°ä¸­å…è®¸ä½¿ç”¨typenameï¼ˆä½œä¸ºæ›¿ä»£ç±»ï¼‰ï¼›æ¥è‡ª braced-init-list çš„æ–°è§„åˆ™ç”¨äºè‡ªåŠ¨æ¨å¯¼ï¼›åµŒå¥—å‘½åç©ºé—´çš„å®šä¹‰ï¼›å…è®¸å‘½åç©ºé—´å’Œæšä¸¾å™¨çš„å±æ€§ï¼›æ–°çš„æ ‡å‡†å±æ€§ï¼š[[fallthrough]], [[maybe_unused]] å’Œ [[nodiscard]]ï¼›å¯¹æ‰€æœ‰éç±»å‹æ¨¡æ¿å‚æ•°è¿›è¡Œå¸¸é‡è¯„ä¼°ï¼›Foldè¡¨è¾¾å¼ï¼Œç”¨äºå¯å˜çš„æ¨¡æ¿ï¼›A compile-time static if with the form if constexprï¼ˆexpressionï¼‰ï¼›ç»“æ„åŒ–çš„ç»‘å®šå£°æ˜ï¼Œå…è®¸auto [a, b]=getTwoReturnValuesï¼ˆï¼‰ã€‚ |
|    C++ 20    | 2020å¹´12æœˆ7æ—¥ | ISO/IEC 14882:2020 | æ–°å¢æ¨¡å—ï¼ˆModulesï¼‰ã€åç¨‹ï¼ˆCoroutinesï¼‰ã€èŒƒå›´ ï¼ˆRangesï¼‰ã€æ¦‚å¿µä¸çº¦æŸ ï¼ˆConstraints and conceptsï¼‰ã€æŒ‡å®šåˆå§‹åŒ– (designated initializersï¼‰ã€æ“ä½œç¬¦â€œ<=> != ==â€ï¼›constexpræ”¯æŒï¼šnew/deleteã€dynamic_castã€try/catchã€è™šæ‹Ÿã€constexprå‘é‡å’Œå­—ç¬¦ä¸²ï¼›è®¡æ—¶ï¼šæ—¥å†ã€æ—¶åŒºæ”¯æŒã€‚ |

# ğŸ§‚ğŸ§‚ğŸ§‚C++å…³é”®å­—

> å…³é”®å­—ï¼ˆ*keyword*ï¼‰æ˜¯æ•´ä¸ªè¯­è¨€èŒƒå›´å†…é¢„å…ˆä¿ç•™çš„æ ‡è¯†ç¬¦ï¼Œæ¯ä¸ªC++å…³é”®å­—éƒ½æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚ç»è¿‡é¢„å¤„ç†åï¼Œå…³é”®å­—ä»é¢„å¤„ç†è®°å·ï¼ˆ*preprocessing-token*ï¼‰ä¸­åŒºå‡ºæ¥ï¼Œå‰©ä¸‹çš„æ ‡è¯†ç¬¦ä½œä¸ºè®°å·ï¼ˆ*token*ï¼‰ï¼Œç”¨äºå£°æ˜å¯¹è±¡ã€å‡½æ•°ã€ç±»å‹ã€å‘½åç©ºé—´ç­‰ã€‚ä¸èƒ½å£°æ˜ä¸å…³é”®å­—åŒåçš„æ ‡è¯†ç¬¦ã€‚
>
> å„ä¸ªç‰ˆæœ¬çš„ISO C++éƒ½è§„å®šä»¥ä¸‹åˆ’çº¿æ¥å¤§å†™å­—æ¯èµ·å§‹çš„æ ‡è¯†ç¬¦ä¿ç•™ç»™å®ç°ã€‚ç¼–è¯‘å™¨å¯ä»¥ç”¨è¿™äº›ä¿ç•™æ ‡è¯†ç¬¦ä½œä¸ºæ‰©å±•å…³é”®å­—ï¼Œè¿™ä¸ä¿è¯å¯ç§»æ¤æ€§ã€‚ä»¥ä¸‹è®¨è®ºISO C++æ‰€ä¿ç•™çš„å…³é”®å­—ã€‚

**ISO C++ 98å…³é”®å­—å…±63ä¸ªï¼ŒæŒ‰æ ‡å‡†æ’ç‰ˆå¦‚ä¸‹ï¼š**

|    asm     |        do        |    if     |   return    | typedef  |
| :--------: | :--------------: | :-------: | :---------: | :------: |
|    auto    |      double      |  inline   |    short    |  typeid  |
|    bool    |   dynamic_cast   |    int    |   signed    | typename |
|   break    |       else       |   long    |   sizeof    |  union   |
|    case    |       enum       |  mutable  |   static    | unsigned |
|   catch    |     explicit     | namespace | static_cast |  using   |
|    char    |      export      |    new    |   struct    | virtual  |
|   class    |      extern      | operator  |   switch    |   void   |
|   const    |      false       |  private  |  template   | volatile |
| const_cast |      float       | protected |    this     | wchar_t  |
|  continue  |       for        |  public   |    throw    |  while   |
|  default   |      friend      | register  |    true     |  delete  |
|    goto    | reinterpret_cast |    try    |             |          |

# ğŸ¿ğŸ¿ğŸ¿å‘½åç©ºé—´åŸŸ

### ä»€ä¹ˆæ˜¯å‘½åç©ºé—´åŸŸï¼Ÿ

> å‘½åç©ºé—´åŸŸå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç©ºé—´å¤–é¢ä¸èƒ½ç›´æ¥è°ƒç”¨è¯¥ç©ºé—´åŸŸåªèƒ½ç”¨è®¿é—®é™å®šç¬¦æŒ‡å®šè®¿é—®è¯¥ç©ºé—´åŸŸã€‚

#### å‘½åç©ºé—´åŸŸçš„æ„ä¹‰

> å‘½åç©ºé—´åŸŸä¸»è¦æ˜¯ç”¨æ¥è§£å†³Cè¯­è¨€é‡Œé¢å‘½åå†²çªçš„é—®é¢˜ï¼Œä½¿ç”¨å‘½åç©ºé—´åŸŸå•ç‹¬å¼€è¾Ÿä¸€ä¸ªç‹¬ç«‹ç©ºé—´ï¼Œå½“éœ€è¦è°ƒç”¨è¯¥åŸŸçš„å‡½æ•°æ—¶åªéœ€æŒ‡å®šï¼Œè€ŒåŒä¸€ç§åå­—çš„å‡½æ•°å¯ä»¥æœ‰å¤šä»½ä¸è¿‡éœ€è¦æ”¾åˆ°ä¸åŒçš„ç©ºé—´åŸŸå†…ï¼Œè¿™æ ·æ‰ä¸ä¼šå†²çªã€‚

### å‘½åç©ºé—´åŸŸçš„åˆ›å»º

> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‘½åç©ºé—´åŸŸæ—¶éœ€è¦ä½¿ç”¨å…³é”®å­—`namespace`æ¥åˆ›å»ºä¸€ä¸ªç©ºé—´åŸŸã€‚
>
> **ä½¿ç”¨æ–¹æ³•ï¼š** `namespace ç©ºé—´å` {}
>
> **ä½¿ç”¨æ¡ˆåˆ—**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> namespace ls
> {
> 	int a = 30;//lsç©ºé—´åŸŸ
> }
> 
> int a = 100;//å…¨å±€åŸŸ
> 
> int main()
> {
> 	int a = 200;//å±€éƒ¨åŸŸ
> 
> 	cout << a << endl;//å¦‚æœä¸æŒ‡å®šç©ºé—´åŸŸé‚£ä¹ˆä½¿ç”¨çš„æ˜¯å±€éƒ¨åŸŸï¼Œå› ä¸ºå±€éƒ¨ä¼˜å…ˆ
> 	cout << ::a << endl;//æŒ‡å®šç©ºåŸŸæ˜¯ä¼˜å…ˆä½¿ç”¨å…¨å±€åŸŸ
> 	cout << ls::a << endl;//æŒ‡å®šä½¿ç”¨æŸä¸ªç©ºé—´åŸŸ
> 
> 	return 0;
> }
> ```



### åŸŸä½œç”¨è®¿é—®é™å®šç¬¦

> ç”¨äºè®¿é—®æŒ‡å®šåŸŸçš„å†…å®¹ï¼Œç”¨äºè®¿é—®æŒ‡å®šåŸŸçš„ç¬¦å·å«åšï¼š**åŸŸä½œç”¨é™å®šç¬¦**
>
> **ä½¿ç”¨æ–¹æ³•ï¼š** åŸŸå`::`åŸŸå†…çš„ä¸œè¥¿
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> int mian()
> {
>     std::cout << "ä½ å¥½" << std::endl;//æŒ‡å®šè®¿é—®stdç©ºé—´åŸŸå†…çš„endlå’Œcout
>     
>     return 0;
> }
> ```

### å‘½åç©ºé—´åŸŸå±•å¼€

> å½“æˆ‘ä»¬åœ¨å¼€å‘ä¸€ä¸ªå¤§é¡¹ç›®æ—¶ä¼šå‘ç°å¦‚æœè°ƒç”¨ä¸€ä¸ªå¸¸ç”¨å‡½æ•°åœ¨æŸä¸ªåŸŸå†…æ—¶ï¼Œæˆ‘é—¨éœ€è¦é¢‘ç¹æŒ‡å®šåŸŸï¼Œè¿™ä¸ªæ“ä½œå°±é—²çš„å¾ˆç¹çã€‚
>
> æ‰€ä»¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªç¹ççš„æ“ä½œæˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼Œ**å¦‚ä¸‹ï¼š**
>
> 1. å…¨éƒ¨å±•å¼€
>
>    > + ä¼˜ç‚¹
>    >
>    >   ä¸ç”¨ç¹ççš„ä¸€ç›´æŒ‡å®šç©ºé—´åŸŸ
>    >
>    > + ç¼ºç‚¹
>    >
>    >   é‚£ä¹ˆä¼šè¿æ¥å‘½åå†²çªçš„é—®é¢˜ï¼Œæœ¬èº«å®šä¹‰è¿™ä¸ªå‘½åç©ºé—´åŸŸå°±æ˜¯é˜²æ­¢å‘½åå†²çªçš„ã€‚
>
>    ```cpp
>    using namespace std;//å±•å¼€stdç©ºé—´åŸŸå†…çš„æ‰€æœ‰ä¸œè¥¿
>    ```
>
> 2. éƒ¨åˆ†å±•å¼€
>
>    > + ä¼˜ç‚¹
>    >
>    >   å¸¸ç”¨æ¥å£å¯ä»¥ç›´æ¥è°ƒç”¨ä¸ç”¨å†™ç¹ççš„æŒ‡å®šç©ºé—´åŸŸ
>    >
>    > + ç¼ºç‚¹
>    >
>    >   å¯¹äºä¸å¸¸ç”¨æ¥å£æ¥è¯´è¿˜æ˜¯éœ€è¦ç¹ççš„ä½¿ç”¨åŸŸä½œç”¨é™å®šç¬¦æ¥æŒ‡å®šç©ºé—´åŸŸã€‚
>
>    ```cpp
>    using std::cout;//å±•å¼€stdçš„ä¸€ä¸ªæ•™coutæ¥å£
>    ```
>
>    **æ€»ç»“ï¼š** åœ¨æ­£å¼çš„å¼€å‘é¡¹ç›®å…¨ç¨‹ä½¿ç”¨åŸŸä½œç”¨é™å®šç¬¦æ¥è®¿é—®ï¼Œå½“ç„¶å¦‚æœæƒ³åœ¨è°ƒç”¨å¸¸ç”¨æ¥å£æ—¶ä¸æƒ³å†™ç¹ççš„åŸŸä½œç”¨è®¿é—®é™å®šç¬¦å¯ä»¥æ˜¯ç”¨ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œä¸å»ºè®®ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆå¦‚æœä»…ä»…æ˜¯æ—¥å¸¸å†™ç»ƒä¹ ä»£ç çš„è¯æ˜¯å¯ä»¥çš„ï¼Œæ­£å¼é¡¹ç›®ä¸å»ºè®®ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆã€‚



# ğŸ¥¯ğŸ¥¯ğŸ¥¯ç¼ºçœå‚æ•°

### ä»€ä¹ˆæ˜¯ç¼ºçœå‚æ•°ï¼Ÿ

> ç¼ºçœå‚æ•°å°±æ˜¯æœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“ä½ ä¸ç»™å‡½æ•°ä¼ å®å‚æ—¶ä¸”è¯¥å‡½æ•°æœ‰é»˜è®¤å‚æ•°ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨é»˜è®¤å‚æ•°å¦‚æœç»™å®å‚åˆ™ä½¿ç”¨å®å‚æ— å®å‚ä½¿ç”¨é»˜è®¤å‚æ•°ã€‚
>
> ç¼ºçœå‚æ•°å¿…é¡»æ˜¯ä»å³å¾€å·¦ç¼ºçœï¼Œå› ä¸ºå‹æ ˆçš„æ—¶å€™å½¢å‚æ˜¯ä»å³å¾€å·¦å‹æ ˆçš„ï¼Œå¦‚æœæ˜¯æ–­æ–­ç»­ç»­æˆ–è€…ä»å·¦å¾€å³ç¼ºçœé‚£ä¹ˆä¸ä¼šæ„æˆç¼ºçœå‚æ•°ï¼Œæ­¤æ—¶ä¼šç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚

### å…¨ç¼ºçœ

> å…¨ç¼ºçœå‚æ•°çš„æ„æ€æ˜¯è¯¥å‡½æ•°çš„æ‰€æœ‰å½¢å‚éƒ½æœ‰ä¸€ä¸ªé»˜è®¤å€¼ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int Add(int x = 10, int y = 40)
> {
> 	return x + y;
> }
> 
> int main()
> {
> 	int x = 100;
> 	int y = 30;
> 
> 	cout << Add(x, y) << endl;//ä¼ å®å‚ä¸ä½¿ç”¨ç¼ºçœå‚æ•°
> 	cout << Add() << endl;//ä¸ä¼ å®å‚ä½¿ç”¨é»˜è®¤å€¼
> 
> 	return 0;
> }
> ```



### åŠç¼ºçœå‚æ•°

> åŠç¼ºçœå‚æ•°æŒ‡çš„ä¸æ˜¯æœ‰ä¸€åŠå½¢å‚æ˜¯æœ‰ç¼ºçœå€¼ï¼Œè€Œæ˜¯æŒ‡éƒ¨åˆ†å½¢å‚æœ‰ç¼ºçœå€¼ï¼Œåªè¦ä¸æ˜¯å…¨ç¼ºçœé‚£ä¹ˆå°±æ˜¯åŠç¼ºçœã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int Add(int x, int y = 40)
> {
> 	return x + y;
> }
> 
> int main()
> {
> 	int x = 100;
> 	int y = 30;
> 
> 	cout << Add(x, y) << endl;//ä¼ å®å‚ä¸ä½¿ç”¨ç¼ºçœå‚æ•°
> 	cout << Add(x) << endl;//ä¸ä¼ å®å‚ä½¿ç”¨é»˜è®¤å€¼
> 
> 	return 0;
> }
> ```



### ç¼ºçœå‚æ•°çš„æ³¨æ„äº‹é¡¹

> **æ³¨æ„ï¼š** ç¼ºçœå‚æ•°çš„ç¼ºçœå€¼ä¸èƒ½åœ¨å£°æ˜å’Œå®šä¹‰ä¸­åŒæ—¶å‡ºç°ï¼Œå»ºè®®ç¼ºçœå€¼å†™åœ¨å£°æ˜å†…å› ä¸ºè¿™æ ·åç»­æ›´æ”¹è¿˜æ˜¯é˜…è¯»ä¼šæ›´å¥½ã€‚

# ğŸœğŸœğŸœå¼•ç”¨

### ä»€ä¹ˆæ˜¯å¼•ç”¨ï¼Ÿ

> å¼•ç”¨ç›¸å½“äºç»™å¯¹è±¡å–åˆ«åï¼Œè¿™ä¸ªåˆ«åç›¸å½“äºè¯¥å¯¹è±¡æœ¬èº«ï¼Œå¼•ç”¨å†ä½¿ç”¨æ—¶å¿…é¡»åˆå§‹åŒ–ä¸èƒ½åƒå…¶å®ƒå¯¹è±¡ä¸€æ ·ä¸ä¸åˆå§‹åŒ–å†ä½¿ç”¨ï¼Œå¼•ç”¨ä¸€æ—¦å¼•ç”¨äº†ä¸€ä¸ªå¯¹è±¡é‚£ä¹ˆè¯¥å¼•ç”¨çš„å¼•ç”¨å¯¹è±¡ä¸èƒ½å†å˜æ›´ã€‚
>
> å¼•ç”¨å¯ä»¥è¢«å…¶å®ƒå¼•ç”¨å¯¹è±¡å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªå¼•ç”¨å¯¹è±¡å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚

### å¼•ç”¨çš„åˆ›å»º

> **ä½¿ç”¨æ–¹æ³•ï¼š**  ç±»å‹ å¼•ç”¨å¯¹è±¡å`&` = å¼•ç”¨å¯¹è±¡
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int Add(int x, int y = 40)
> {
> 	return x + y;
> }
> 
> int main()
> {
> 	int a = 50;
> 	int& ra = a;
> 
> 	cout << "raï¼š" << ra << endl;
> 	cout << "aï¼š" << a << endl;
> 
> 	ra = 100;
> 	cout << "raï¼š" << ra << endl;
> 	cout << "aï¼š" << a << endl;
> 
> 	return 0;
> }
> ```
>

### å¼•ç”¨çš„ç‰¹æ€§

1. å¯ä»¥è¢«å…¶å®ƒå¼•ç”¨å¯¹è±¡å¼•ç”¨
2. å¯ä»¥å¤šä¸ªå¼•ç”¨å¯¹è±¡å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡
3. å®åˆ—åŒ–å¿…é¡»åˆå§‹åŒ–
4. ä¸€æ—¦å¼•ç”¨å°±æ— æ³•æ›´æ”¹å¼•ç”¨çš„å¯¹è±¡

### å¼•ç”¨æƒé™æ”¾å¤§ä¸ç¼©å°é—®é¢˜

### å¼•ç”¨çš„æƒé™æ”¾å¤§

> å½“ä¸€ä¸ªå¯¹è±¡è¢«`const`ä¿®é¥°è¿‡æ­¤æ—¶å†è¢«ä¸€ä¸ªæ²¡è¢«`cosnt`ä¿®é¥°è¿‡ç±»å‹çš„å¼•ç”¨æ¥å¼•ç”¨è¯¥å¯¹è±¡åˆ™ä¼šå‡ºç°æƒé™çš„æ”¾å¤§é—®é¢˜ï¼Œå› ä¸ºå¼•ç”¨ä¸åƒæŒ‡é’ˆï¼Œå¦‚æœæ˜¯æŒ‡ç€æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚
>
> è€Œå¼•ç”¨æ— æ³•é—´æ¥ä¿®æ”¹ï¼Œä¸€æ—¦è¢«æ”¾å¤§æƒé™é‚£ä¹ˆç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int main()
> {
> 	const int a = 10;
> 	int& b = a;
> 
> 	return 0;
> }
> ```
>
> ![image-20220218210628684](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318134.png)

### å¼•ç”¨çš„æƒé™ç¼©å°

> ã€€å½“å¼•ç”¨ç¼©å°æƒé™å¼•ç”¨ä¸€ä¸ªå¯¹è±¡æ—¶æ˜¯æ²¡é—®é¢˜çš„ï¼Œå› ä¸ºä½ ä¸èƒ½å†™ä½†æ˜¯å¯¹è±¡æœ¬èº«èƒ½å†™ï¼Œè¿™æ˜¯ä¸å½±å“çš„å°±åƒä½é…’åº—ä¸€æ ·ï¼Œä½ è¯´ä½ äº¤é’±äº†ä½ ä¸ä½é‚£ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä½ æ²¡é’±ä½ æƒ³ä½é‚£ä¹ˆè¿™æ˜¯è¶Šç•Œè¡Œä¸ºæ˜¯ä¸å…è®¸çš„ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int main()
> {
> 	int a = 10;
> 	const int& b = a;
> 
> 	return 0;
> }
> 
> ```



### å¼•ç”¨éšå¼ç±»å‹è½¬æ¢è¿‡çš„å¯¹è±¡

> å¦‚æœå¼•ç”¨ç±»å‹å’Œç›®æ ‡ç±»å‹ä¸ä¸€è‡´ä¸”å¼•ç”¨å¯¹è±¡æ—¶å‘ç”Ÿäº†éšå¼ç±»å‹è½¬æ¢ï¼Œé‚£ä¹ˆå¼•ç”¨çš„ç›®æ ‡åˆ™æ˜¯ä¸€ä¸ªä¸´æ—¶ç©ºé—´å¼€è¾Ÿçš„ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åªèƒ½è¯»ä¸èƒ½å†™ï¼Œå¦‚æœä½ æƒ³è¦å¼•ç”¨é‚£ä¹ˆéœ€è¦ç”¨`const`ä¿®é¥°ã€‚
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int main()
> {
> 	int a = 10;
> 	double& b = a;//è¿™é‡Œå¼•ç”¨çš„ä¸æ˜¯aäº†ï¼Œå› ä¸ºå‘ç”Ÿäº†éšå¼ç±»å‹è½¬æ¢æ‰€ä»¥bå¼•ç”¨çš„æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ä¸”æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥è¯¥è¡Œä¼šæŠ¥é”™
> 
> 	return 0;
> }
> ```
>
> ![image-20220219101725412](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318163.png)
>
> ![image-20220219101907157](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318644.png)

### å¼•ç”¨çš„ä¼˜ç‚¹

> å¼•ç”¨æ¯”æŒ‡é’ˆçš„ä½¿ç”¨æ›´ç®€å•è€Œä¸”ä¸€å¼€å§‹å¿…é¡»åˆå§‹åŒ–ï¼Œè¿™ç‚¹æ¯”æŒ‡é’ˆå¥½å¾ˆå¤šï¼ŒæŒ‡é’ˆå¦‚æœä¸åˆå§‹åŒ–ä¼šå½¢æˆé‡æŒ‡é’ˆã€‚
>
> å¼•ç”¨çš„åº•å±‚ä¹Ÿæ˜¯æŒ‡é’ˆä¸è¿‡æ¯”æŒ‡é’ˆæ›´åŠ ç®€å•ä¸”å¼ºå¤§ã€‚
>
> **å¼•ç”¨çš„é€‚ç”¨åœºæ™¯ï¼š**
>
> 1. åšå‡½æ•°çš„å½¢å‚
> 2. åšå‡½æ•°çš„è¿”å›å€¼

#### å€¼åšè¿”å›å€¼

> **ä¾‹å­ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int Add(int a, int b)
> {
> 	int c = a + b;
> 
> 	return c;
> }
> 
> int main()
> {
> 	int& a = Add(40, 30);//ä¸èƒ½å¼•ç”¨ï¼Œå› ä¸ºè¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡åªèƒ½è¯»ï¼Œå¦‚æœå¼•ç”¨ä¼šå‘ç”Ÿæƒé™çš„æ”¾å¤§æ‰€ä»¥æ˜¯ä¸å¯ä»¥å¼•ç”¨çš„
> 
> 	return 0;
> }
> ```
>
> **é—®é¢˜ï¼š**aå¼•ç”¨çš„å¯¹è±¡æ˜¯ä¸æ˜¯cï¼Ÿ
>
> **ç­”ï¼š** å¹¶ä¸æ˜¯ï¼Œå› ä¸ºè¯¥æ ˆå¸§å·²é”€æ¯é‚£ä¹ˆè¿”å›å€¼ç»å¯¹ä¸æ˜¯cè€Œæ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ä½†æ˜¯æ ˆå¸§å·²é”€æ¯ï¼Œæ‰€ä»¥è¯¥å¯¹è±¡ä¸€å®šä¸æ˜¯åœ¨Addæ ˆå¸§å†…ï¼Œä¸€å®šæ˜¯åœ¨mainå‡½æ•°æ ˆå¸§å†…ã€‚
>
> ![image-20220219104217232](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318570.png)

#### å¼•ç”¨åšè¿”å›å€¼

> **ä¾‹å­ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int& Add(int a, int b)
> {
> 	int c = a + b;
> 
> 	return c;
> }
> 
> int main()
> {
> 	int& a = Add(40, 30);
> 
> 	return 0;
> }
> ```
>
> å¼•ç”¨åšè¿”å›å€¼ï¼Œè¯¥å¼•ç”¨åšè¿”å›å€¼è¿”å›çš„æ˜¯cå¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸´æ—¶ç©ºé—´çš„å¯¹è±¡å› ä¸ºè¯¥ä¸´æ—¶ç©ºé—´ç±»å‹ä¹Ÿæ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œè€Œå¤–é¢ä¹Ÿç”¨å¼•ç”¨ç±»å‹æ¥æ”¶é‚£ä¹ˆä¾¿å‘çš„å¼•ç”¨çš„æ˜¯cã€‚
>
> ä¸´æ—¶ç©ºé—´çš„ç±»å‹æ˜¯æ ¹æ®è¿”å›å€¼ç±»å‹æ¥å†³å®šçš„ï¼Œä¸è¿‡è¯¥å¼•ç”¨cå¯¹è±¡å¼•ç”¨çš„æ˜¯ä¸€ä¸ªå·²é”€æ¯çš„ç©ºé—´ã€‚
>
> ![image-20220219104413743](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318488.png)
>
> **æ³¨æ„ï¼š** å¼•ç”¨åšè¿”å›å€¼æ—¶ï¼Œè¿”å›çš„å¯¹è±¡ä¸èƒ½æ˜¯è¢«é”€æ¯çš„ç©ºé—´ï¼Œä¸ç„¶ä¼šè¶Šç•Œè®¿é—®ï¼Œä»…ä»…è®¿é—®è‚¯å®šæ˜¯æ²¡é—®é¢˜çš„ï¼Œå¦‚æœè¿›è¡Œä¿®æ”¹å¯èƒ½ä¼šè¢«ç¼–è¯‘å™¨çš„æ£€æŸ¥ä½æ£€æŸ¥åˆ°ä»è€ŒæŠ¥é”™ã€‚

### æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ«

> **ä¾‹å­ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int main()
> {
> 	int a = 10;
> 	int& b = a;//ä»è¯­æ³•è§’åº¦æ¥ç†è§£å°±æ˜¯bæ˜¯açš„åˆ«å
> 
> 	int* pa = &a;//ä»è¯­æ³•è§’åº¦æ¥ç†è§£å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡æŒ‡å‘äº†a
> 
> 	return 0;
> }
> ```
>
> ![image-20220219154322221](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318317.png)
>
> ä»è¯­æ³•è§’åº¦æ¥è®²å¼•ç”¨æ˜¯æ²¡å¼€è¾Ÿç©ºé—´çš„ï¼Œè€ŒæŒ‡é’ˆæ˜¯å¼€è¾Ÿäº†ä¸€ä¸ª4/8å­—èŠ‚å¤§å°çš„ç©ºé—´ã€‚
>
> ä½†æ˜¯ï¼Œæˆ‘ä»¬ä»æ±‡ç¼–ä»£ç çš„è§’åº¦æ¥çœ‹éƒ½æ˜¯å®ƒä¸¤çš„æ“ä½œæ˜¯ä¸€æ‘¸ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æŠŠaçš„åœ°å€å­˜å‚¨åˆ°è‡ªå·±çš„ç©ºé—´é‡Œé¢ï¼Œç”±æ­¤å¯ä»¥å¾—å‡ºç»“è®ºå¼•ç”¨çš„åº•å±‚å’ŒæŒ‡é’ˆç±»ä¼¼ï¼Œä½†æ˜¯å¼•ç”¨æ¯”æŒ‡é’ˆå¥½ç†è§£å®¹æ˜“ä½¿ç”¨ã€‚
>
> **ä¸»è¦çš„å‡ ä¸ªåŒºåˆ«ï¼š**
>
> 1. å¼•ç”¨åœ¨å®åˆ—åŒ–æ—¶å¿…é¡»åˆå§‹åŒ–ï¼ŒæŒ‡é’ˆæ²¡æœ‰è¦æ±‚
> 2. å¼•ç”¨åœ¨åˆå§‹åŒ–æ—¶å¼•ç”¨ä¸€ä¸ªå®ä½“åå°±ä¸èƒ½å†å¼•ç”¨å…¶å®ƒå®ä½“å¯¹è±¡ï¼Œè€ŒæŒ‡é’ˆå¯ä»¥åœ¨ä»»ä½•æ—¶å€™æŒ‡å‘ä¸€ä¸ªåŒç±»å‹å°¸ä½“
> 3. æ²¡æœ‰`NULL`å¼•ç”¨ï¼Œä½†æœ‰`NULL`æŒ‡é’ˆ
> 4. åœ¨sizeofä¸­çš„å«ä¹‰ä¸åŒï¼Œå¼•ç”¨çš„å¤§å°ä½å¼•ç”¨ç±»å‹çš„å¤§å°ï¼Œä½†æŒ‡é’ˆå§‹ç»ˆæ˜¯åœ°å€ç©ºé—´æ‰€å å­—èŠ‚ä¸ªæ•°ï¼ˆ32ä½å¹³å°ä¸‹å 4ä¸ªå­—èŠ‚ï¼Œ64ä½å¹³å°ä¸‹å 8ä¸ªå­—èŠ‚ï¼‰
> 5. å¼•ç”¨è‡ªå¢æ—¶æ˜¯å¼•ç”¨çš„å®ä½“è‡ªå¢1ï¼ŒæŒ‡é’ˆè‡ªå¢1æ˜¯è®©æŒ‡é’ˆå‘ååç§»ä¸€ä¸ªç±»å‹å¤§å°ã€‚
> 6. æœ‰å¤šçº§æŒ‡é’ˆï¼Œä½†æ˜¯ä¹ˆæœ‰å¤šçº§å¼•ç”¨ã€‚
> 7. è®¿é—®å®ä½“æ–¹å¼ä¸åŒï¼ŒæŒ‡ç€ä½ éœ€è¦æ˜¾ç¤ºè§£å¼•ç”¨ï¼Œå¼•ç”¨ç¼–è¯‘å™¨è‡ªå·±å¤„ç†
> 8. å¼•ç”¨æ¯”æŒ‡é’ˆä½¿ç”¨èµ·æ¥ç›¸å¯¹å®‰å…¨ã€‚



# ğŸŸğŸŸğŸŸå‡½æ•°é‡è½½

### ä»€ä¹ˆæ˜¯å‡½æ•°é‡è½½ï¼Ÿ

> å‡½æ•°é‡è½½æ˜¯ä¸€ä¸ªå‡½æ•°åèƒ½å®šä¹‰å¤šä¸ªå‡½æ•°ï¼Œè¿™å°±æ˜¯å‡½æ•°é‡è½½ã€‚
>
> **å‡½æ•°é‡è½½çš„æ„æˆæ¡ä»¶ï¼š**
>
> 1. å½¢å‚ä¸ªæ•°ä¸åŒ
> 2. ç±»å‹ä¸åŒ

### å‡½æ•°é‡è½½çš„å®šä¹‰

> **ä¾‹å­ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int Add(int a, int b)
> {
> 	return a + b;
> }
> 
> double Add(double a, double b)
> {
> 	return a + b;
> }
> 
> int main()
> {
> 	cout << Add(10, 30) << endl;
> 	cout << Add(2.3, 5.3) << endl;
> 
> 	return 0;
> }
> ```
>
> åœ¨ä»¬çœ‹è°ƒç”¨`Add`çš„æ—¶å€™æ€»è§‰è°ƒçš„æ˜¯åŒä¸€ä¸ªï¼Œå…¶å®ä¸ç„¶æˆ‘ä»¬è°ƒçš„ä¸æ˜¯ä¸¤ä¸ªä¸åŒçš„å‡½æ•°ï¼Œè€Œç¼–è¯‘å™¨çš„è¯†åˆ«æ˜¯é€šè¿‡ç±»å‹è¯†åˆ«åŒ¹é…å¯¹åº”çš„å‡½æ•°ã€‚



### å‡½æ•°åä¿®é¥°è§„åˆ™

> C++æ”¯æŒå‡½æ•°åé‡è½½çš„åŸå› æ˜¯å› ä¸ºC++æœ‰ä¹Ÿç»™å‡½æ•°åä¿®é¥°è§„åˆ™ï¼Œå¦‚æœæ²¡æœ‰è¯¥è§„åˆ™æ˜¯ä¸èƒ½è¿›è¡Œå‡½æ•°é‡è½½çš„ã€‚

**Cè¯­è¨€è¿æ¥æ—¶çš„å‡½æ•°åï¼š**

![image-20220219111306549](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318875.png)

**C++é“¾æ¥æ—¶çš„å‡½æ•°åï¼š**

![image-20220219111825239](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281318691.png)

æˆ‘ä»¬å¯ä»¥ä»ä¸Šé¢çš„ä¸¤ä¸ªå›¾ä¸­å‘ç°Cå’ŒCPPçš„å‡½æ•°ååœ¨é“¾æ¥æ—¶ï¼Œå®ƒä»¬çš„å‡½æ•°åæ—¶ä¸ç›¸åŒçš„è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆCä¸èƒ½æ”¯æŒå‡½æ•°é‡è½½ï¼Œè€ŒCPPå¯ä»¥çš„åŸå› ã€‚



### extern "C"çš„ä½œç”¨

> å½“CPPå†™çš„ä¸­é—´ä»¶æƒ³ç»™Cä½¿ç”¨æ—¶æˆ‘ä»¬åœ¨C++çš„å‡½æ•°å‰é¢åŠ ä¸Š`extern "C"`å°±æ˜¯å¯ä»¥è®©Cç›´æ¥è°ƒç”¨äº†ï¼Œä¸è¿‡ä½¿ç”¨äº†`extern "C"`é‚£ä¹ˆè¯¥å‡½æ•°ä¼šä¸§å¤±å‡½æ•°é‡è½½çš„èƒ½åŠ›ï¼Œå› ä¸º`extern "C"`æ˜¯è®©è¯¥å‡½æ•°ä½¿ç”¨Cçš„å‡½æ•°åä¿®é¥°è§„åˆ™ã€‚



# ğŸ±ğŸ±ğŸ±å†…è”å‡½æ•°

### ä»€ä¹ˆæ˜¯å†…è”å‡½æ•°ï¼Ÿ

> åœ¨`iniline`ä¿®é¥°çš„å‡½æ•°å«åšå†…è”å‡½æ•°ï¼Œå†…è”å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨å½“å‰æ ˆå¸§å±•å¼€ï¼Œä¸å»ºç«‹æ ˆå¸§å› ä¸ºå»ºç«‹æ ˆå¸§æ˜¯æœ‰ä¸€å®šçš„æ¶ˆè€—çš„ã€‚

### å†…è”å‡½æ•°çš„åˆ›å»º

> ã€€**ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> inline int Add(int a, int b)
> {
> 	return a + b;
> }
> ```

### å†…è”å‡½æ•°çš„é€‚ç”¨åœºæ™¯

> åªé€‚åˆå°å‹ä»»åŠ¡çš„å‡½æ•°ï¼Œå¦‚æœå‡½æ•°è¿‡å¤§é‚£ä¹ˆç¼–è¯‘å™¨ä¸ä¼šè®©å®ƒæˆä¸ºå†…è”å‡½æ•°çš„ã€‚
>
> 1. `inline`æ˜¯ä¸€ç§ç©ºé—´æ¢æ—¶é—´çš„åšæ³•ï¼ŒçœåŒºè°ƒç”¨å‡½æ•°æ ˆå¸§çš„å¼€é”€ï¼Œæ‰€ä»¥ä»£ç å¾ˆé•¿æˆ–è€…æœ‰å¾ªç¯/é€’å½’çš„å‡½æ•°ä¸é€‚åˆå®šä¹‰æˆå†…è”å‡½æ•°
> 1. `inline`å¯¹ç¼–è¯‘å™¨æ¥è®²åªæ˜¯ä¸€ç§å»ºè®®ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¼˜åŒ–ï¼Œå¦‚æœå®šä¹‰ä½`inline`çš„å‡½æ•°ä½“å†…æœ‰å¾ªç¯/é€’å½’ç­‰ç­‰ï¼Œä¼šè¢«ç¼–è¯‘å™¨å¿½ç•¥æ‰ã€‚
> 2. `inline`ä¸å»ºè®®å£°æ˜å’Œå®šä¹‰åˆ†ç¦»ï¼Œåˆ†ç¦»ä¼šå¯¼è‡´é“¾æ¥é”™è¯¯ï¼Œå› ä¸º`inline`è¢«å±•å¼€äº†ï¼Œå°±æ²¡æœ‰å‡½æ•°åœ°å€äº†ï¼Œé“¾æ¥å°±ä¼šæ‰¾ä¸åˆ°ã€‚

### é»˜è®¤å†…è”å‡½æ•°

> å½“å‡½æ•°æ˜¯åœ¨ç±»é‡Œé¢å®ç°å’Œå®šä¹‰çš„æ—¶å€™æˆå‘˜å‡½æ•°é»˜è®¤å°±æ˜¯è¢«å»ºè®®æˆå†…è”å‡½æ•°ï¼Œé™¤éè¯¥å‡½æ•°ä¸ç¬¦åˆå†…è”å‡½æ•°çš„ç‰¹å¾ï¼ŒCPUä¼šæ— è§†ç¼–è¯‘å™¨çš„å†…è”å‡½æ•°

# ğŸ¥«ğŸ¥«ğŸ¥«ç±»å’Œå¯¹è±¡

### ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ï¼Ÿ

> C++æ˜¯åŸºäºé¢å‘å¯¹è±¡çš„ï¼Œå…³æ³¨çš„æ˜¯å¯¹è±¡ï¼Œå°†ä¸€ä»¶äº‹æƒ…æ‹†åˆ†æˆä¸åŒçš„å¯¹è±¡ï¼Œé å¯¹è±¡ä¹‹é—´çš„äº¤äº’å®Œæˆã€‚

### ä»€ä¹ˆæ˜¯é¢å‘è¿‡ç¨‹ï¼Ÿ

> Cè¯­è¨€æ˜¯é¢å‘è¿‡ç¨‹çš„ï¼Œå…³æ³¨çš„æ˜¯è¿‡ç¨‹ï¼Œåˆ†æå‡ºæ±‚è§£é—®é¢˜çš„æ­¥éª¤ï¼Œé€šè¿‡å‡½æ•°è°ƒç”¨æ¥é€æ­¥ç»“è§£å†³ã€‚

### ä»€ä¹ˆæ˜¯ç±»ï¼Ÿ

> ç±»å®šä¹‰çš„æ˜¯ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œç±»çš„æ„æˆæœ‰ä¸¤éƒ¨åˆ†ã€‚
>
> 1. æˆå‘˜å˜é‡ï¼ˆå±æ€§ï¼‰
> 2. æˆå‘˜å‡½æ•°ï¼ˆè¡Œä¸ºï¼‰

#### ç±»çš„åˆ›å»º

> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> struct Book
> {
>     string name;
>     int price;   
> };
> 
> class Book
> {
>   public:
>     string name;
>     int price;
> };
> ```

##### é¢è¯•é¢˜ï¼šstructå’Œclassçš„åŒºåˆ«

> C++é‡ŒÂ·`struct`å¯ä»¥å½“æˆä¸€ä¸ªç»“æ„ä½“å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å½“æˆä¸€ä¸ªç±»æ¥ä½¿ç”¨ï¼Œå› ä¸ºC++ä¸ºäº†å…¼å®¹Cæ‰€ä»¥`struct`å°±ä¹Ÿå¯ä»¥åˆ›å»ºç±»ï¼Œè€Œ`struct`åˆ›å»ºçš„ç±»é»˜è®¤çš„è®¿é—®é™å®šç¬¦æ˜¯å…¬æœ‰çš„ï¼Œè€Œ`class`å®šä¹‰çš„ç±»é»˜è®¤è®¿é—®é™å®šç¬¦æ˜¯ç§æœ‰çš„ã€‚

##### å†…éƒ¨ç±»

> å†…éƒ¨ç±»é¡¾åæ€ä¹‰å°±æ˜¯åœ¨ç±»é‡Œé¢å†å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™è·ŸCè¯­è¨€çš„åµŒå¥—ç»“æ„ä½“ä¸€æ ·ã€‚
>
> å¦‚æœæƒ³å¯¹å†…éƒ¨ç±»è¿›è¡Œè®¿é—®å¿…é¡»å…ˆæŒ‡å®šç±»å†æŒ‡å®šå†…éƒ¨ç±»ã€‚
>
> å¦‚æœä¸€ä¸ªç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼Œè¿™ä¸ªå†…éƒ¨ç±»å°±å«åšå†…éƒ¨ç±»ã€‚æ³¨æ„æ­¤æ—¶è¿™ä¸ªå†…éƒ¨ç±»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç±»ï¼Œå®ƒä¸å±äºå¤–éƒ¨ç±»ï¼Œæ›´ä¸èƒ½é€šè¿‡å¤–éƒ¨ç±»çš„å¯¹è±¡å»è°ƒç”¨å†…éƒ¨ç±»ã€‚å¤–éƒ¨ç±»å¯¹å†…éƒ¨ç±»æ²¡æœ‰ä»»ä½•ä¼˜è¶Šçš„è®¿é—®æƒé™ã€‚
>
> **æ³¨æ„ï¼š** å†…éƒ¨ç±»å°±æ˜¯å¤–éƒ¨ç±»çš„å‹å…ƒç±»ã€‚æ³¨æ„å‹å…ƒç±»çš„å®šä¹‰ï¼Œå†…éƒ¨ç±»å¯ä»¥é€šè¿‡å¤–éƒ¨ç±»çš„å¯¹è±¡å‚æ•°æ¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚ä½†æ˜¯å¤–éƒ¨ç±»ä¸æ˜¯å†…éƒ¨ç±»çš„å‹å…ƒã€‚

##### å†…éƒ¨ç±»çš„ç‰¹æ€§

> 1. å†…éƒ¨ç±»å¯ä»¥å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„`public`ã€`protected`ã€`private`éƒ½æ˜¯å¯ä»¥çš„ã€‚
>
> 2. æ³¨æ„å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„staticã€æšä¸¾æˆå‘˜ï¼Œä¸éœ€è¦å¤–éƒ¨ç±»çš„å¯¹è±¡/ç±»åã€‚
>
> 3. `sizeof`(å¤–éƒ¨ç±»)=å¤–éƒ¨ç±»ï¼Œå’Œå†…éƒ¨ç±»æ²¡æœ‰ä»»ä½•å…³ç³»

### ç±»çš„è®¿é—®é™å®šç¬¦

![image-20220219162321923](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281319788.png)

> **è®¿é—®é™å®šç¬¦è¯´æ˜ï¼š**
>
> 1. `public`ä¿®é¥°çš„æˆå‘˜åœ¨ç±»å¤–å¯ä»¥ç›´æ¥è¢«è®¿é—®ã€‚
> 2. `protected`å’Œ`private`ä¿®é¥°çš„æˆå‘˜åœ¨ç±»å¤–ä¸èƒ½ç›´æ¥è¢«è®¿é—®ã€‚
> 3. è®¿é—®é™å®šç¬¦çš„ä½œç”¨åŸŸä»è¯¥è®¿é—®é™å®šç¬¦å‡ºç°åˆ°ä¸‹ä¸€ä¸ªè®¿é—®é™å®šç¬¦å‡ºç°ä¸ºæ­¢ã€‚
> 4. `class`çš„é»˜è®¤è®¿é—®é™å®šç¬¦ä½`private`ï¼Œ`struct`ä¸º`public`ï¼ˆå› ä¸ºè¦å…¼å®¹Cï¼‰
>
> **æ³¨æ„ï¼š** è®¿é—®é™å®šç¬¦åªåœ¨ç¼–è¯‘æ—¶æœ‰ç”¨ï¼Œå½“æ•°æ®æ˜ å°„åˆ°å†…å­˜åï¼Œæ²¡æœ‰ä»»ä½•è®¿é—®é™å®šç¬¦çš„åŒºåˆ«ã€‚

### é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§

#### å°è£…

> **å°è£…ï¼š**å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•è¿›è¡Œéšè—ï¼Œä¸è®©ç›´æ¥ä½¿ç”¨è€Œæ˜¯å¿…é¡»è¦é€šè¿‡å…¬æœ‰çš„æ–¹æ³•æ¥è¿›è¡Œè®¿é—®å’Œæ“ä½œã€‚
>
> å°è£…çš„æœ¬è´¨å°±æ˜¯å¯¹æ•°æ®çš„ç®¡ç†ï¼Œå°±åƒå»åšç‰©é¦†ä½ æƒ³è®¿é—®é‡Œé¢çš„ç‰©å“éœ€è¦ä¹°ç¥¨è¿›å»ï¼Œè€Œä¹°ç¥¨æ˜¯ä¹Ÿç»™å…¬æœ‰çš„æ–¹æ³•ï¼Œè€Œè¯¥æ–¹æ³•ä¹Ÿåªèƒ½è®©ä½ åœ¨å›ºå®šå®‰å…¨çš„è®¿é—®å†…è®¿é—®ã€‚

#### ç»§æ‰¿



#### å¤šæ€



### ç±»çš„ä½œç”¨åŸŸ

> ç±»åŸŸä¹Ÿæ˜¯ä¸€ä¸ªåŸŸï¼Œå¦‚æœéœ€ä½¿ç”¨ç±»çš„ä¸œè¥¿ï¼Œé‚£ä¹ˆå¯¹è±¡ä¼šå»ç±»åŸŸé‡Œé¢è¿›è¡ŒæŸ¥æ‰¾ã€‚

#### ç±»çš„å¤§å°è®¡ç®—

> å†ç®—ä¸€ä¸ªç±»æ‰€å ç©ºé—´æ—¶æ˜¯ä¸è®¡ç®—æˆå‘˜å‡½æ•°çš„ï¼Œåªè®¡ç®—æˆå‘˜å¯¹è±¡è€Œæˆå‘˜å¯¹è±¡åˆéœ€è¦ç‹¬ç«‹å¼€è¾Ÿç©ºé—´æ‰€ä»¥åœ¨è®¡ç®—ç±»çš„å¤§å°æ—¶è®¡ç®—çš„æ˜¯ç±»çš„æˆå‘˜å¯¹è±¡ã€‚
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> class A
> {
> private:
> 	char ch;
> 	int a;
> };
> 
> //ç©ºç±»
> class B
> {
> 
> };
> 
> int main()
> {
> 	cout << sizeof(A) << endl;
> 	cout << sizeof(B) << endl;
> 
> 	return 0;
> }
> ```
>
> ![image-20220219170456013](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210302251276.png)
>
> æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨è®¡ç®—ç©ºç±»æ—¶å¹¶ä¸æ˜¯æ²¡æœ‰å ç©ºé—´ï¼Œè€Œæ˜¯ç”¨äº†ä¸€ä¸ªå­—èŠ‚æ¥å ç©ºé—´ã€‚
>
> å¦‚æœï¼Œä¸ç”¨ä¸€ä¸ªå­—èŠ‚æ¥å ç©ºé—´ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°†æ‰¾ä¸åˆ°ï¼Œæ‰€ä»¥å¿…é¡»å¾—è¦ä¸€ä¸ªå­—èŠ‚æ¥å ä½ã€‚

### thisæŒ‡é’ˆ

> `this`æŒ‡é’ˆæ˜¯ä¸€ç§éšå«çš„å‚æ•°ï¼Œåœ¨C++é‡Œé¢æ˜¯ä½œä¸ºä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯é»˜è®¤æŒ‡å‘è¯¥å¯¹è±¡çš„åœ°å€ã€‚
>
> **ä½¿ç”¨æ¡ˆä¾‹ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> class Data
> {
> private:
> 	int year;
> 	int month;
> 	int day;
> 
> public:
> 	Data(int year, int month, int day)//è¿™é‡Œçœ‹èµ·æ¥åªæœ‰ä¸‰ä¸ªå‚æ•°å®é™…ä¸Šæœ‰å››ä¸ªï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯thisæŒ‡é’ˆä¸è¿‡è¢«éšå«äº†
> 	{
> 		this->year = year;
> 		this->month = month;
> 		this->day = day;
> 	}
> };
> 
> int main()
> {
> 	Data d1(2020, 2, 4);
> 
> 	return 0;
> }
> ```
>
> ![image-20220220085346120](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210312141868.png)

### å…­ä¸ªé»˜è®¤æˆå‘˜å‡½æ•°

![image-20220220085850464](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210292118147.png)

#### æ„é€ å‡½æ•°

##### é»˜è®¤æ„é€ å‡½æ•°

> é»˜è®¤æ„é€ å‡½æ•°æŒ‡çš„æ˜¯æ— éœ€ç»™å€¼å°±èƒ½åˆ›å»ºå¯¹è±¡çš„å°±æ˜¯é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœéœ€è¦ä¼ å€¼æ‰èƒ½åˆ›å»ºå¯¹è±¡çš„éƒ½æ˜¯æ„é€ å‡½æ•°ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> int main()
> {
>     Data d1;//è¿™é‡Œè°ƒç”¨çš„æ˜¯é»˜è®¤æ„é€ å‡½æ•°
>     Data d2(2022, 2, 3);//è¿™é‡Œè°ƒç”¨çš„æ˜¯æ„é€ å‡½æ•°
>     
>     return 0;
> }
> ```



##### é»˜è®¤æ„é€ å‡½æ•°çš„ç‰¹æ€§

> åªè¦èƒ½ä¸ä¼ å‚å°±èƒ½æ„é€ å¯¹è±¡çš„å°±æ˜¯é»˜è®¤æ„é€ å‡½æ•°ï¼Œå…¨ç¼ºçœçš„å’Œç¼–è¯‘å™¨è‡ªå·±ç”Ÿæˆçš„ï¼Œéƒ½æ˜¯å«é»˜è®¤æ„é€ å‡½æ•°ã€‚
>
> é»˜è®¤æ„é€ å‡½æ•°æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯ä¸ä¼šå¯¹å†…ç½®ç±»å‹è¿›è¡Œä»»ä½•æ“ä½œï¼Œä¼šè°ƒç”¨è‡ªå®šä¹‰ç±»å‹çš„æ„é€ å‡½æ•°ã€‚
> **ä¸‰ç§ï¼š**
>
> 1. ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„
> 2. å†™çš„æ— å‚çš„
> 3. å…¨ç¼ºçœçš„
>
> **æ€»ç»“ï¼š** ä¸ç”¨å‚æ•°å°±èƒ½è°ƒç”¨çš„æ„é€ å‡½æ•°å°±æ˜¯é»˜è®¤æ„é€ å‡½æ•°ã€‚

#### æ„é€ å‡½æ•°çš„ç‰¹æ€§

> æ„é€ å‡½æ•°æ˜¯ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ„é€ å‡½æ•°çš„åç§°è™½ç„¶å«æ„é€ å‡½æ•°ä½†æ˜¯ä»»åŠ¡ä¸æ˜¯åˆ›å»ºå¯¹è±¡å’Œå¼€è¾Ÿç©ºé—´ï¼Œè€Œæ˜¯ç”¨äºåˆå§‹åŒ–å¯¹è±¡ã€‚
>
> æ„é€ å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œå½“å¯¹è±¡å®åˆ—åŒ–æ—¶å°±ä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚
> **ä¸»è¦ç‰¹å¾ï¼š**
>
> 1. å‡½æ•°ååŸŸç±»åç›¸åŒ
> 2. æ— è¿”å›å€¼
> 3. å¯¹è±¡å®ä¾‹åŒ–æ—¶ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•°ã€‚
> 4. æ„é€ å‡½æ•°å¯ä»¥é‡è½½

#### åˆå§‹åŒ–åˆ—è¡¨

> åˆå§‹åŒ–åˆ—è¡¨ï¼šä»¥ä¸€ä¸ªå†’å·å¼€å§‹ï¼Œæ¥ç€æ˜¯ä»¥ä¸€ä¸ªé€—å·åˆ†éš”æ•°æ®æˆå‘˜åˆ—è¡¨ã€‚
>
> ä¸€ä¸‹æˆå‘˜åªèƒ½åœ¨åˆå§‹åŒ–åˆ—è¡¨å†…å®Œæˆåˆå§‹åŒ–ï¼Œæ„é€ å‡½æ•°æ— æ³•å®Œæˆã€‚
>
> 1. `const`ä¿®é¥°çš„æˆå‘˜å˜é‡
> 2. å¼•ç”¨æˆå‘˜å˜é‡
> 3. è‡ªå®šä¹‰ç±»å‹æˆå‘˜ï¼ˆè¯¥ç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼‰
>
> **æ³¨æ„ï¼š** æ¯ä¸ªæˆå‘˜åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ï¼Œå¦‚æœåœ¨åˆå§‹åŒ–åˆ—è¡¨å†…åˆå§‹åŒ–è¿‡ï¼Œé‚£ä¹ˆå°±ä¸èƒ½åœ¨æ„é€ å‡½æ•°å†…èµ‹å€¼åˆå§‹åŒ–ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> class A
> {
> public:
> 	A(int a)
> 	{
> 		_a = a;
> 	}
> 
> 	int GetA(void)
> 	{
> 		return _a;
> 	}
> private:
> 	int _a;
> };
> 
> 
> class Date
> {
> public:
> 	Date(int day, int& ra)
> 		:_day(day)
> 		,_A(20)
> 		,_ra(ra)
> 	{
> 
> 	}
> 
> 	void Print(void)
> 	{
> 		printf("_day:%d\n_A:%d\n_ra:%d\n", _day, _A.GetA(), _ra);
> 	}
> private:
> 	const int _day;
> 	A _A;
> 	int& _ra;
> };
> 
> 
> int main()
> {
> 	int b = 50;
> 	Date d1(1000, b);
> 
> 	d1.Print();
> 
> 	return 0;
> }
> ```

#### åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–é¡ºåº

> åˆå§‹åŒ–åˆ—è¡¨çš„åˆå§‹åŒ–é¡ºåºæ˜¯æ ¹æ®ï¼Œæˆå‘˜å˜é‡çš„å£°æ˜é¡ºåºä¸ºä¸»ï¼Œè·Ÿåˆå§‹åŒ–åˆ—è¡¨çš„é¡ºåºæ— å…³ã€‚
>
> **ä¾‹å­ï¼š**
>
> ```cpp
> class A {
> public:
>     A(int a)//åˆå§‹åŒ–åˆ—è¡¨çš„åˆå§‹åŒ–é¡ºåºå’Œæ­¤å¤„æ— å…³
>         :_a1(a)
>         ,_a2(_a1)
>         {}
>  
>  void Print() {
>      cout<<_a1<<" "<<_a2<<endl;
>  }
> private://æ­¤å¤„çš„å˜é‡æ˜¯å£°æ˜ï¼Œåˆå§‹åŒ–é¡ºåºå’Œæ­¤å¤„æœ‰å…³
>     int _a2;
>     int _a1;
> }
> 
> int main() {
>     A aa(1);
>     aa.Print();
> }
> ```

### å•å‚æ•°çš„æ„é€ å‡½æ•°

> å½“ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åªæœ‰ä¸€ä¸ªæ—¶ï¼Œä¸”æ˜¯å†…ç½®ç±»å‹é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨å•å‚æ•°çš„æ„é€ å‡½æ•°ã€‚
>
> **ä¾‹å­ï¼š**
>
> ```cpp
> #include <iostream>
> using namespace std;
> 
> class Date
> {
> public:
>     Date(int day)
>     {
>         _day = day;
>     }
>     
>     
> private:
>     int _day;
> }
> 
> int main()
> {
>     Date d1 = 3;//è¿™é‡Œçš„è¡Œä¸ºå…¶å®æ˜¯éšå¼ç±»å‹è½¬æ¢ï¼Œç¼–è¯‘å™¨ä¼šå…ˆæ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ç„¶åæŠŠ3ç»™è¿™ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå†è°ƒç”¨æ‹·è´æ„é€ æŠŠè¿™ä¸ªä¸´æ—¶å¯¹è±¡çš„å€¼æ‹·è´ç»™d1ï¼Œè¿™æ˜¯æ—§ç‰ˆçš„ç¼–è¯‘å™¨
>     //æ–°ç‰ˆçš„ç¼–è¯‘å™¨å·²ç»ä¼˜åŒ–äº†ï¼Œå®ƒä¼šç›´æ¥æ‹¿è¿™ä¸ª3è°ƒç”¨ä¸€ä¸ªæ„é€ ã€‚æ‰€ä»¥å®é™…ä¸Šåªè°ƒç”¨äº†ä¸€æ¬¡æ„é€ ï¼Œå’Œä¸Šé¢çš„è°ƒç”¨äº†ä¸¤æ¬¡æ„é€ ä¸€æ¬¡é»˜è®¤æ„é€ å’Œä¸€æ¬¡æ‹·è´æ„é€ 
>     
>     return 0;
> }
> ```

### explicit

> è¯¥å…³é”®å­—æ˜¯C++å¼•å…¥çš„å…³é”®å­—ï¼Œä¸»è¦ç”¨é€”æ˜¯ç”¨æ¥è­¦ç”¨å•å‚æ•°çš„æ„é€ å‡½æ•°ã€‚
>
> è¯¥å…³é”®å­—åŠ å†æ„é€ å‡½æ•°å‰é¢ï¼Œè¿™æ ·å°±èƒ½è®©å•å‚æ•°çš„æ„é€ å‡½æ•°æ— æ³•å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢ä»è€Œå¯¼è‡´å•å‚æ•°çš„æ„é€ å‡½æ•°å¤±æ•ˆã€‚
>
> ```c
> #include <iostream>
> using namespace std;
> 
> class Date
> {
> public:
>     explicit Date(int day)//ç¦ç”¨å•å‚æ•°çš„æ„é€ å‡½æ•°
>     {
>         _day = day;
>     }
>     
>     
> private:
>     int _day;
> }
> 
> int main()
> {
>     Date d1 = 3;//è¿™é‡Œçš„è¡Œä¸ºå…¶å®æ˜¯éšå¼ç±»å‹è½¬æ¢ï¼Œç¼–è¯‘å™¨ä¼šå…ˆæ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ç„¶åæŠŠ3ç»™è¿™ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå†è°ƒç”¨æ‹·è´æ„é€ æŠŠè¿™ä¸ªä¸´æ—¶å¯¹è±¡çš„å€¼æ‹·è´ç»™d1ï¼Œè¿™æ˜¯æ—§ç‰ˆçš„ç¼–è¯‘å™¨
>     //æ–°ç‰ˆçš„ç¼–è¯‘å™¨å·²ç»ä¼˜åŒ–äº†ï¼Œå®ƒä¼šç›´æ¥æ‹¿è¿™ä¸ª3è°ƒç”¨ä¸€ä¸ªæ„é€ ã€‚æ‰€ä»¥å®é™…ä¸Šåªè°ƒç”¨äº†ä¸€æ¬¡æ„é€ ï¼Œå’Œä¸Šé¢çš„è°ƒç”¨äº†ä¸¤æ¬¡æ„é€ ä¸€æ¬¡é»˜è®¤æ„é€ å’Œä¸€æ¬¡æ‹·è´æ„é€ 
>     
>     return 0;
> }
> ```

### åŒ¿åå¯¹è±¡

> åŒ¿åå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸåªåœ¨å®šä¹‰çš„è¯¥è¡Œï¼Œè¿‡äº†æ”¹è¡Œå°±ä¼šç«‹åˆ»è°ƒç”¨ææ„å‡½æ•°è¿›è¡Œèµ„æºçš„æ¸…ç†ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> class Date
> {
> public:
>     void Print(void)
>     {
>         cout << "ä½ å¥½" << endl;
>     }
> }
> 
> int main()
> {
>     Date().Print();//æ„é€ ä¸€ä¸ªåŒ¿åå¯¹è±¡å¹¶è°ƒç”¨æ”¹åŒ¿åå¯¹è±¡çš„Print()æˆå‘˜å‡½æ•°
>     Date();//æ„é€ ä¸€ä¸ªåŒ¿åå¯¹è±¡
>     
>     return 0;
> }
> ```



#### ææ„å‡½æ•°

> ææ„å‡½æ•°ä¸»è¦æ˜¯å®Œæˆèµ„æºçš„æ¸…ç†ã€‚

#### ææ„å‡½æ•°çš„ç‰¹ç‚¹

> â€‹	ææ„å‡½æ•°æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„é»˜è®¤æˆå‘˜å‡½æ•°ï¼Œå®ƒæ˜¯ç”¨æ¥å®Œæˆèµ„æºçš„é‡Šæ”¾ã€‚
> â€‹	**å…¶ç‰¹å¾ï¼š**
>
> 1. ç±»åå‰é¢åŠ "~"
> 2. æ— å‚æ•°æ— è¿”å›å€¼
> 3. ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªææ„å‡½æ•°ï¼Œå¦‚æœæ²¡å†™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤ææ„å‡½æ•°
> 4. å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å¯¹è±¡çš„ææ„å‡½æ•°è¿›è¡Œèµ„æºçš„é‡Šæ”¾ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> class Data
> {
>     ~Data()//ææ„å‡½æ•°
>     {
>         
>     }
> }
> ```

#### ææ„é¡ºåº

> ç”±äºåœ¨å®åˆ—åŒ–å¯¹è±¡æ—¶å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨æ ˆä¸Šå¼€è¾Ÿç©ºé—´ï¼Œæ‰€ä»¥å…ˆæ„é€ çš„åææ„ï¼Œåæ„é€ çš„å…ˆææ„ï¼Œç¬¦åˆæ ˆçš„å…ˆè¿›åå‡ºã€‚

#### é»˜è®¤ææ„å‡½æ•°

> é»˜è®¤ææ„å‡½æ•°å’Œé»˜è®¤æ„é€ å‡½æ•°ä¸€æ ·ï¼Œä¸ä¼šå¯¹å†…ç½®ç±»å‹è¿›è¡Œä»»ä½•å¤„ç†ï¼Œä¼šå¯¹è‡ªå®šä¹‰ç±»å‹è¿›è¡Œè°ƒç”¨å®ƒçš„ææ„ã€‚

#### ææ„å’Œæ„é€ å‡½æ•°çš„æ€»ç»“

> **æ€»ç»“ï¼š** æ„é€ å‡½æ•°å’Œææ„å‡½æ•°éƒ½å¯¹å†…ç½®ç±»å‹ä¸è¿›è¡Œä»»ä½•å¤„ç†ï¼Œå¯¹è‡ªå®šä¹‰ç±»å‹ä¼šè°ƒç”¨è‡ªå®šä¹‰ç±»å‹çš„ææ„å’Œæ„é€ ã€‚

#### è¿ç®—ç¬¦é‡è½½

##### ä»€ä¹ˆæ˜¯è¿ç®—ç¬¦é‡è½½ï¼Ÿ

> C++ä¸ºäº†å¢å¼ºä»£ç çš„å¯è¯»æ€§å¼•å…¥äº†è¿ç®—é‡è½½ï¼Œè¿ç®—ç¬¦é‡è½½æ˜¯ä¸€ç§ç‰¹æ®Šçš„å…·æœ‰å‡½æ•°åçš„å‡½æ•°ï¼Œä¹Ÿå…·æœ‰è¿”å›å€¼ç±»å‹ï¼Œå‡½æ•°åå­—ä»¥åŠå‚æ•°åˆ—è¡¨ã€‚
>
> **æ³¨æ„äº‹é¡¹ï¼š**
>
> + ä¸é¥¿èƒ½é€šè¿‡è¿æ¥å…¶å®ƒç¬¦å·æ¥åˆ›å»ºæ–°çš„æ“ä½œç¬¦ï¼šæ¯”å¦‚ï¼šoperator@
> + é‡è½½æ“ä½œç¬¦å¿…é¡»æœ‰ä¸€ä¸ªç±»ç±»å‹æˆ–è€…æšä¸¾ç±»å‹çš„æ“ä½œæ•°ã€‚
> + ç”¨äºå†…ç½®ç±»å‹çš„æ“ä½œç¬¦ï¼Œå…¶å«ä¹‰ä¸èƒ½æ”¹å˜ï¼Œä¾‹å¦‚ï¼šå†…ç½®ç±»å‹+ï¼Œä¸é¥¿èƒ½æ”¹å˜å…¶å«ä¹‰ã€‚
> + ä½œä¸ºç±»æˆå‘˜çš„é‡è½½å‡½æ•°æ—¶ï¼Œå…¶å½¢å‚çœ‹èµ·æ¥æ¯”æ“ä½œæ•°æ•°ç›®å°‘1æˆå‘˜å‡½æ•°çš„,æ“ä½œç¬¦æœ‰ä¸€ä¸ªé»˜è®¤çš„å½¢å‚thisï¼Œé™å®šä¸ºç¬¬ä¸€ä¸ªå½¢å‚
> + ``.*``ã€`::`ã€`sizeof`ã€`?:`ã€`.`æ³¨æ„è¿™äº”ä¸ªè¿ç®—ç¬¦ä¸èƒ½é‡è½½ã€‚
>
> **ä½¿ç”¨æ–¹å¼ï¼š** è¿”å›å€¼ `operator`é‡è½½ç¬¦å·(`void`);
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> class Add
> {
> public:
>     int operator+(const Add& a)
>     {
>         this->a += a;
>         
>  		return this->a;
>     }
> private:
>     int a;
> }
> ```



####  æ‹·è´æ„é€ 

##### ä»€ä¹ˆæ˜¯æ‹·è´æ„é€ ï¼Ÿ

> æ‹·è´æ„é€ æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œä¸è¿‡å®ƒä¸»è¦æ˜¯ç”¨æ¥ç»™ç›¸åŒç±»å¯¹è±¡åˆå§‹åŒ–çš„ã€‚
>
> **æ‹·è´æ„é€ çš„ç‰¹å¾ï¼š**
>
> 1. æ‹·è´æ„é€ å‡½æ•°æ—¶æ„é€ å‡½æ•°çš„ä¸€ä¸ªé‡è½½å½¢å¼
> 2. æ‹·è´æ„é€ å‡½æ•°çš„å‚æ•°åªæœ‰ä¸€ä¸ªä¸”å¿…é¡»ä½¿ç”¨å¼•ç”¨ä¼ å‚ï¼Œä½¿ç”¨ä¼ å€¼æ–¹å¼ä¼šå‘ç”Ÿæ— ç©·é€’å½’ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> class Date
> {
> public:
> 	Date(const Date& d1)//æ‹·è´æ„é€ 
>     {
>         _year = d1._year;
>         _month = d1._month;
>         _day = d1._day;
>     }
> private:
>     int _year;
>     int _month;
>     int _day;
> }
> ```



#### é»˜è®¤æ‹·è´æ„é€ 

> é»˜è®¤æ‹·è´æ„é€ å°±æ˜¯æˆ‘ä»¬ä¸å†™ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å°±æ˜¯é»˜è®¤æ‹·è´æ„é€ ã€‚
>
> é»˜è®¤æ‹·è´æ„é€ ä¼šå¯¹å†…ç½®ç±»å‹è¿›è¡Œå€¼æ‹·è´ï¼ˆæµ…æ‹·è´ï¼‰ï¼Œå¯¹è‡ªå®šä¹‰ç±»å‹ä¼šè°ƒç”¨å®ƒçš„æ‹·è´æ„é€ ã€‚

##### æµ…æ‹·è´

> æµ…æ‹·è´å°±åƒCè¯­è¨€é‡Œçš„å‡½æ•°å½¢å‚ä¼ é€’ä¸€æ ·ï¼Œå½¢å‚çš„æ”¹å˜ä¸ä¼šå½±å“åˆ°å®å‚ã€‚
>
> æµ…æ‹·è´ä¸ä¼šç‹¬ç«‹å¼€è¾Ÿç©ºé—´ï¼Œè€Œæ˜¯æŠŠä¼ é€’è¿‡æ¥çš„å€¼ç›´æ¥æ‹·è´ç»™å¯¹è±¡ã€‚

##### æ·±æ‹·è´

> æ·±æ‹·è´å°±åƒCè¯­è¨€é‡Œçš„å€ä¼ é€’ï¼Œå½¢å‚çš„æ”¹å˜ä¼šå½±å“åˆ°å®å‚ã€‚
>
> æ·±æ‹·è´ä¼šå¼€è¾Ÿç‹¬ç«‹çš„ç©ºé—´ä¸”åˆå§‹åŒ–ä¸ºå½¢å‚çš„å€¼ï¼Œå†æ‹·è´ç»™å¯¹è±¡ã€‚

#### èµ‹å€¼é‡è½½

##### ä»€ä¹ˆæ˜¯èµ‹å€¼é‡è½½

> èµ‹å€¼é‡è½½ä¹Ÿæ˜¯å…­ä¸ªé»˜è®¤ç‰¹æ®Šæˆå‘˜å‡½æ•°çš„ä¸€ç§ã€‚
>
> **ä¸»è¦ç‰¹å¾å¦‚ä¸‹ï¼š**
>
> 1. å‚æ•°ç±»å‹
> 2. è¿”å›å€¼
> 3. æ£€æµ‹æ˜¯å¦è‡ªå·±ç»™è‡ªå·±èµ‹å€¼
> 4. è¿”å›`*this`
> 5. ä¸€ä¸ªç±»å¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰èµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªï¼Œå®Œæˆå¯¹è±¡æŒ‰å­—èŠ‚åºçš„å€¼æ‹·è´ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> class Date
> {
> public:
> 	Date(const Date& d1)//æ‹·è´æ„é€ 
>     {
>         _year = d1._year;
>         _month = d1._month;
>         _day = d1._day;
>     }
>     
>     Date& operator=(const Date& d1)//èµ‹å€¼é‡è½½
>     {
>         _year = d1._year;
>         _month = d1._month;
>         _day = d1._day;
>     }
> private:
>     int _year;
>     int _month;
>     int _day;
> }
> ```



#### é»˜è®¤èµ‹å€¼é‡è½½

> èµ‹å€¼é»˜è®¤é‡è½½æˆ‘ä»¬ä¸å†™ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„èµ‹å€¼é‡è½½ï¼Œå®ƒä¼šå¯¹è‡ªå®šä¹‰ç±»å‹è¿›è¡Œå€¼æ‹·è´ï¼Œè€Œå¯¹è‡ªå®šä¹‰ç±»å‹ä¼šè°ƒç”¨å®ƒå¯¹åº”çš„èµ‹å€¼é‡è½½ã€‚

#### æ‹·è´æ„é€ å’Œèµ‹å€¼é‡è½½æ€»ç»“

> **æ€»ç»“ï¼š** æ‹·è´æ„é€ å’Œèµ‹å€¼é‡è½½ï¼Œä¼šå¯¹å†…ç½®ç±»å‹è¿›è¡Œå€¼æ‹·è´ï¼Œå¯¹è‡ªå®šä¹‰ç±»å‹è¿›è¡Œè°ƒç”¨å®ƒä»¬å¯¹åº”çš„æ‹·è´æ„é€ å’Œèµ‹å€¼é‡è½½ã€‚



### constä¿®é¥°æˆå‘˜å‡½æ•°

> æœ‰æ—¶å€™æˆ‘ä»¬ä¸æƒ³è®©`this`æŒ‡é’ˆçš„å†…å®¹è¢«æ”¹å˜æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦ç»™`this`æŒ‡é’ˆåŠ ä¸Š`const`æ¥ä¿®é¥°ä½†æ˜¯é—®é¢˜æ—¶ï¼Œ`this`æŒ‡é’ˆæ˜¯éšå«çš„æ— æ³•ç›´æ¥ä¿®é¥°ã€‚
>
> æ‰€ä»¥ï¼ŒC++æ”¯æŒå¦ä¸€ç§æ–¹å¼æ¥ä¿®é¥°åªéœ€åœ¨è¯¥å‡½æ•°çš„æ‹¬å·å¤–åŠ ä¸Š`const`å°±æ˜¯å¯¹`this`æŒ‡é’ˆçš„ä¿®é¥°äº†ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> 	bool operator!=(const Date& d)const//è¿™é‡Œçš„constä¿®é¥°çš„æ˜¯thisæŒ‡é’ˆ
> 	{
> 		return !(*this == d);
> 	}
> ```

### å–åœ°å€é‡è½½

> å–åœ°å€é‡è½½å‡ ä¹æ²¡ç”¨ï¼Œå› ä¸º99%çš„æƒ…å†µä¸‹é»˜è®¤ç”Ÿæˆçš„å–åœ°å€é‡è½½å°±å¤Ÿç”¨äº†ã€‚
>
> **ä¾‹å­ï¼š**
>
> ```cpp
> class Date
> {
> private:
> 	int _year;
> 	int _month;
> 	int _day;
> public:
>     Date* operator&()//å–åœ°å€é‡è½½
>     {
>         return this;
>     }
> }
> ```

### constä¿®é¥°çš„å–åœ°å€é‡è½½

> æœ‰æ—¶å€™æˆ‘ä»¬å¯¹åªè¯»å¯¹è±¡è¿›è¡Œå–åœ°å€æ—¶å°±å¿…é¡»è¦ç”¨`const`ä¿®é¥°çš„å–åœ°å€é‡è½½æ‰èƒ½è¿›è¡Œè°ƒç”¨ã€‚
>
> **ä¾‹å­ï¼š**
>
> ```cpp
> class Date
> {
> private:
> 	int _year;
> 	int _month;
> 	int _day;
> public:
>     Date* operator&()//å–åœ°å€é‡è½½
>     {
>         return this;
>     }
>     
>     Date* operator&()const//constä¿®é¥°çš„å–åœ°å€é‡è½½
>     {
>         return this;
>     }
> }
> ```



#### constå–åœ°å€é‡è½½å’Œå–åœ°å€é‡è½½æ€»ç»“

> è¿™ä¸¤ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•°æ²¡æœ‰å®ç°çš„ä»·å€¼ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤ç‰¹æ®Šæˆå‘˜å‡½æ•°å°±å¯ä»¥äº†ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªä¹Ÿæ˜¯å…­ä¸ªé»˜è®¤æˆå‘˜å‡½æ•°ä¸­çš„ä¸¤ç§ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚





## å‹å…ƒ

> å‹å…ƒåˆ†ä¸ºï¼š **å‹å…ƒå‡½æ•°** å’Œ **å‹å…ƒç±»**
>
> å‹å…ƒæä¾›äº†ä¸€ç§çªç ´å°è£…çš„æ–¹å¼ï¼Œæœ‰æ—¶æä¾›äº†ä¾¿åˆ©ï¼Œä½†æ˜¯å‹å…ƒä¼šå¢åŠ è€¦åˆåº¦ï¼Œç ´åŒ–äº†å°è£…æ‰€ä»¥å‹å…ƒå°½é‡å°‘ç”¨ã€‚

### å‹å…ƒå‡½æ•°

> å‹å…ƒå‡½æ•°å°±å¦‚åŒå®ƒçš„åå­—ä¸€æ ·ï¼Œä¸€ä¸ªç±»å…·æœ‰å°è£…æ€§æˆ‘ä»¬æ˜¯æ— æ³•ç›´æ¥åœ¨ç±»å¤–è®¿é—®çš„ï¼Œè€Œæœ‰äº›ç‰¹æ®Šåœºæ™¯ä¸‹æˆ‘ä»¬éœ€è¦è®¿é—®çš„è¯ï¼Œæˆ‘ä»¬å°±å®šä¹‰æˆå‹å…ƒå‡½æ•°è¿™æ ·ä¸€ä¸ªå‡½æ•°æ˜¯å¦ä¸€ä¸ªçš„ç±»çš„å‹å…ƒå°±èƒ½ç›´æ¥è®¿é—®è¯¥ç±»ä¸­çš„ç§æœ‰æˆå‘˜äº†ã€‚
>
> å½“ç„¶ä½¿ç”¨äº†å‹å…ƒå°±ä¼šç ´åå°è£…é™¤éç‰¹æ®Šæƒ…å†µï¼Œä¸€èˆ¬æ˜¯ä¸å»ºè®®ä½¿ç”¨å‹å…ƒå‡½æ•°çš„ã€‚
>
> **ä½¿ç”¨æ–¹æ³•ï¼š** `friend`  è¿”å›å€¼ç±»å‹ å‡½æ•°å(å‚æ•°);
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> class Date
> {
> 	friend std::ostream& operator<<(std::ostream& out, const Date& d);//è¯¥å‡½æ•°æ—¶è¿™ä¸ªç±»çš„å‹å…ƒ
> private:
> 	int _year;
> 	int _month;
> 	int _day;
> public:
>     Date* operator&()//å–åœ°å€é‡è½½
>     {
>         return this;
>     }
>     
>     Date* operator&()const//constä¿®é¥°çš„å–åœ°å€é‡è½½
>     {
>         return this;
>     }
> }
> ```
>

#### å‹å…ƒå‡½æ•°çš„ç‰¹ç‚¹

> **å‹å…ƒå‡½æ•°**å¯ä»¥**ç›´æ¥è®¿é—®**ç±»çš„**ç§æœ‰**æˆå‘˜ï¼Œå®ƒæ˜¯**å®šä¹‰åœ¨ç±»å¤–éƒ¨**çš„**æ™®é€šå‡½æ•°**ï¼Œä¸å±äºä»»ä½•ç±»ï¼Œä½†éœ€è¦åœ¨ç±»çš„å†…éƒ¨å£°æ˜ï¼Œå£°æ˜æ—¶éœ€è¦åŠ **friend**å…³é”®å­—ã€‚
>
> **ç‰¹ç‚¹ï¼š**
>
> 1. å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œä½†ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°
> 2. å‹å…ƒå‡½æ•°ä¸èƒ½ç”¨`const`ä¿®é¥°
> 3. å‹å…ƒå‡½æ•°å¯ä»¥ç±»å®šä¹‰çš„ä»»ä½•åœ°æ–¹å£°æ˜ï¼Œä¸å—ç±»çš„è®¿é—®é™å®šç¬¦é™åˆ¶ã€‚
> 4. ä¸€ä¸ªå‡½æ•°å¯ä»¥æ˜¯å¤šä¸ªç±»çš„å‹å…ƒå‡½æ•°ã€‚
> 5. å‹å…ƒå‡½æ•°çš„è°ƒç”¨ä¸æ™®é€šå‡½æ•°çš„è°ƒç”¨å’ŒåŸç†ç›¸åŒã€‚

### å‹å…ƒç±»

> å‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥æ˜¯å¦ä¸€ä¸ªç±»çš„å‹å…ƒå‡½æ•°ï¼Œéƒ½å¯ä»¥è®¿é—®å¦ä¸€ä¸ªç±»ä¸­çš„éå…¬æœ‰æˆå‘˜ã€‚
>
> + å‹å…ƒæ˜¯å•å‘çš„å…³ç³»ï¼Œä¸å…·æœ‰äº¤æ¢æ€§ï¼ˆæˆ‘æ˜¯ä½ çš„æœ‹å‹æˆ‘èƒ½è®¿é—®ä½ ï¼Œä½†æ˜¯ä½ ä»¬ä¸èƒ½è®¿é—®çš„ä¸œè¥¿ï¼‰
> + å‹å…ƒå…³ç³»ä¸èƒ½ä¼ é€’
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> class B;//å‰ç½®å£°æ˜
> class A
> {
> 	friend class B;//Bæ˜¯Açš„å‹å…ƒBèƒ½è®¿é—®Açš„æ‰€æœ‰æˆå‘˜
> public:
> 	A(int a = 5)
> 	{
> 		_a = a;
> 	}
> 
> 	void PrintA(void)
> 	{
> 		cout << "A" << endl;
> 	}
> 
> private:
> 	int _a;
> };
> 
> class B
> {
> public:
> 	B(int b = 10)
> 	{
> 		_b = b;
> 	}
> 
> 	void PrintB(void)
> 	{
> 		
> 		cout << "B:" << _b << "\t_A:" << _A._a << endl;
> 		_A.PrintA();
> 	}
> 
> private:
> 	int _b;
> 	A _A;
> };
> 
> int main()
> {
> 	A a;
> 	B b;
> 
> 	b.PrintB();
> 
> 	return 0;
> }
> ```



### staticæˆå‘˜

#### ä»€ä¹ˆæ˜¯staticæˆå‘˜ï¼Ÿ

> å£°æ˜ä¸º`static`ç±»å‹çš„ç±»æˆå‘˜ç§°ä¸ºç±»çš„é™æ€æˆå‘˜ï¼Œç”¨`static`ä¿®é¥°çš„æˆå‘˜å¯¹è±¡å«é™æ€æˆå‘˜å¯¹è±¡ï¼Œç”¨`static`ä¿®é¥°çš„æˆå‘˜å‡½æ•°ç§°ä¸ºé™æ€æˆå‘˜å‡½æ•°ã€‚
>
> é™æ€æˆå‘˜å‡½æ•°ï¼Œåªèƒ½åœ¨ç±»å¤–é¢åˆå§‹åŒ–ï¼Œä¸èƒ½åœ¨ç±»é‡Œåˆå§‹åŒ–å› ä¸ºé™æ€æˆå‘˜æ²¡æœ‰`this`æŒ‡é’ˆæ— æ³•é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨å’Œæ„é€ å‡½æ•°åˆå§‹åŒ–ã€‚
>
> é™æ€æˆå‘˜å˜é‡ä¸å­˜æ”¾åœ¨æ ˆé‡Œï¼Œå­˜æ”¾åœ¨é™æ€åŒºä¸”å±äºæ•´ä¸ªç±»ï¼Œä¸å±äºæŸä¸ªå¯¹è±¡æ‰€æœ‰å¯¹è±¡çœ‹åˆ°çš„é™æ€æˆå‘˜ä½ éƒ½æ˜¯åŒä¸€ä¸ªã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> class A
> {
> public:
> 	static int _a;
> };
> 
> int A::_a = 20;//å¯¹é™æ€æˆå‘˜åˆå§‹åŒ–ï¼Œ
> 
> int main()
> {
> 	A a1;
> 	A a2;
> 
> 	cout << a1._a << endl;
> 	cout << a2._a << endl;
> 
> 	a1._a++;
> 
> 	cout << a1._a << endl;
> 	cout << a2._a << endl;
> 
> 	return 0;
> }
> ```

### é™æ€æˆå‘˜ç‰¹å¾

> 1. **é™æ€æˆå‘˜** ä¸ºæ‰€æœ‰**ç±»å¯¹è±¡æ‰€å…±äº«** ï¼Œä¸å±äºæŸä¸ªå…·ä½“çš„å®ä¾‹
>
> 2. **é™æ€æˆå‘˜å˜é‡** å¿…é¡»åœ¨**ç±»å¤–å®šä¹‰** ï¼Œå®šä¹‰æ—¶ä¸æ·»åŠ staticå…³é”®å­—
>
> 3. ç±»é™æ€æˆå‘˜å³å¯ç”¨ç±»å`::`é™æ€æˆå‘˜æˆ–è€…å¯¹è±¡.é™æ€æˆå‘˜æ¥è®¿é—®
>
> 4. é™æ€æˆå‘˜å‡½æ•°**æ²¡æœ‰** éšè—çš„**this** **æŒ‡é’ˆ** ï¼Œä¸èƒ½è®¿é—®ä»»ä½•éé™æ€æˆå‘˜
>
> 5. é™æ€æˆå‘˜å’Œç±»çš„æ™®é€šæˆå‘˜ä¸€æ ·ï¼Œä¹Ÿæœ‰`public`ã€`protected`ã€`private`3ç§è®¿é—®çº§åˆ«ï¼Œä¹Ÿå¯ä»¥å…·æœ‰è¿”å›å€¼ã€‚
>
> **é—®é¢˜ï¼š** 
>
> é™æ€æˆå‘˜å‡½æ•°å¯ä»¥è°ƒç”¨éé™æ€æˆå‘˜å‡½æ•°å—ï¼Ÿ
>
> **ç­”ï¼š** ä¸å¯ä»¥ï¼Œå› ä¸ºé™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰`this`æŒ‡é’ˆï¼Œé‚£ä¹ˆè°ƒç”¨éé™æ€æˆå‘˜éœ€è¦`this`æŒ‡é’ˆæ²¡æœ‰`this`æŒ‡é’ˆç¼–è¯‘å™¨è°ƒç”¨ä¸äº†ã€‚
>
>  éé™æ€æˆå‘˜å‡½æ•°å¯ä»¥è°ƒç”¨ç±»çš„é™æ€æˆå‘˜å‡½æ•°å—ï¼Ÿ
>
> **ç­”ï¼š** å¯ä»¥ï¼Œå› ä¸ºä¸éœ€è¦`this`æŒ‡é’ˆè°ƒç”¨å®ƒã€‚

### å£°æ˜ç¼ºçœå€¼

> C++11æ”¯æŒéé™æ€çš„æˆå‘˜å¯¹è±¡åœ¨å£°æ˜æ—¶ç»™ç¼ºçœå€¼ã€‚
>
> **æ³¨æ„ï¼š** æ­¤å¤„æ˜¯ç¼ºçœå€¼ï¼Œä¸æ˜¯å¯¹è±¡å®ä¾‹åŒ–å’Œåˆå§‹åŒ–ï¼Œç¼ºçœå€¼åªæœ‰å†…ç½®ç±»å‹èƒ½ä½¿ç”¨ï¼Œå¦‚æœåˆæ„é€ å‡½æ•°å°±ä¼šç”¨æ„é€ å‡½æ•°å†…çš„å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤æ„é€ å‡½æ•°å°±ä¼šä½¿ç”¨ç¼ºçœå€¼ï¼Œæ²¡æœ‰ç¼ºçœå€¼çš„è¯å°±æ˜¯éšæœºå€¼ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> class A
> {
> public:
> 	void Print(void)
> 	{
> 		cout << _a << endl << _b << endl;
> 	}
> private:
> 	int _a = 20;//è¿™é‡Œæ˜¯å£°æ˜ï¼Œç»™å£°æ˜ç¼ºçœå€¼å¹¶ä¸æ˜¯å®šä¹‰åˆå§‹åŒ–
> 	int _b = 30;
> };
> 
> int main()
> {
> 	A a1;
> 
> 	a1.Print();
> 
> 	return 0;
> }
> 
> ```

# ğŸ­ğŸ­ğŸ­å†…å­˜ç®¡ç†

>  Cè¯­è¨€å†…å­˜ç®¡ç†æ–¹å¼åœ¨C++ä¸­å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œä½†æœ‰äº›åœ°æ–¹å°±æ— èƒ½ä¸ºåŠ›è€Œä¸”ä½¿ç”¨èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤C++åˆæå‡ºäº†è‡ªå·±çš„å†…å­˜ç®¡ç†æ–¹å¼ï¼šé€šè¿‡` new`å’Œ`delete`æ“ä½œç¬¦è¿›è¡ŒåŠ¨æ€å†…å­˜ç®¡ç†ã€‚

## newå…³é”®å­—

> C++çš„å…³é”®å­—`new`ç”¨äºåŠ¨æ€ç”³è¯·ï¼Œå¦‚æœæ˜¯ç”³è¯·è‡ªå®šä¹‰ç±»å‹é‚£ä¹ˆä¼šè‡ªåŠ¨è°ƒç”¨è¯¥è‡ªå®šä¹‰ç±»å‹çš„æ„é€ å‡½æ•°ã€‚
>
> **ä½¿ç”¨æ–¹å¼ï¼š** new ç±»å‹å;
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int main()
> {
> 	int* p1 = new int;//åŠ¨æ€ç”³è¯·ä¸€ä¸ªæ•´å½¢
> 	int* p2 = new int(30);//åŠ¨æ€ç”³è¯·ä¸€ä¸ªæ•´å‹å¹¶åˆå§‹åŒ–æˆ30
> 	int* p3 = new int[20];//åŠ¨æ€ç”³è¯·20ä¸ªæ•´å‹
> 	int* p4 = new int[5]{ 1, 2, 3, 4, 5 };//åŠ¨æ€ç”³è¯·5ä¸ªæ•´å‹å¹¶åˆå§‹åŒ–æˆ1 2 3 4 5ï¼›
> 
> 	return 0;
> }
> ```



## deleteå…³é”®å­—

> `delete`ä½œç”¨ï¼šç”¨äºé‡Šæ”¾åŠ¨æ€èµ„æº
>
> **ä½¿ç”¨æ–¹å¼ï¼š** delete å˜é‡å
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> using namespace std;
> 
> int main()
> {
> 	int* p1 = new int;//åŠ¨æ€ç”³è¯·ä¸€ä¸ªæ•´å½¢
> 	int* p2 = new int(30);//åŠ¨æ€ç”³è¯·æ•´å‹å¹¶åˆå§‹åŒ–æˆ30
> 	int* p3 = new int[20];//åŠ¨æ€ç”³è¯·å¤šä¸ªä¸ªæ•´å‹
> 	int* p4 = new int[5]{ 1, 2, 3, 4, 5 };//åŠ¨æ€ç”³è¯·5ä¸ªæ•´å‹å¹¶åˆå§‹åŒ–æˆ1 2 3 4 5ï¼›
> 
> 	delete p1;//é‡Šæ”¾ä¸€ä¸ªåŠ¨æ€å†…å­˜
> 	delete p2;
> 	delete[] p3;//é‡Šæ”¾å¤šä¸ªèŠ‚ç‚¹å¿…é¡»ä½¿ç”¨[]å¦åˆ™ä¼šå‡ºç°ä¸å¯é¢„çŸ¥çš„é—®é¢˜
> 	delete[] p4;
> 
> 	return 0;
> }
> ```
>

## operator newä¸operator deleteå‡½æ•°

>`new`å’Œ`delete`æ˜¯C++æä¾›ç»™ç”¨æˆ·è‡ªå®šä¹‰ç”³è¯·å†…å­˜å’Œé‡Šæ”¾å†…ç²—çš„å…³é”®å­—ï¼Œè€Œè¿™ä¸¤ä¸ªå…³é”®å­—åº•å±‚ä¼šè°ƒç”¨å…¨å±€çš„`operator new`å’Œ`operator delete`å‡½æ•°æ¥ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ã€‚
>
>![image-20220223114130635](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281317114.png)
>
>è€Œ`operator new`å’Œ`operator delete`çš„åº•å±‚åˆæ˜¯è°ƒç”¨`malloc()`å’Œ`free()`ã€‚
>
>```cpp
>_CRT_SECURITYCRITICAL_ATTRIBUTE
>void* __CRTDECL operator new(size_t const size)
>{
>    for (;;)
>    {
>        if (void* const block = malloc(size))
>        {
>            return block;
>        }
>
>        if (_callnewh(size) == 0)
>        {
>            if (size == SIZE_MAX)
>            {
>                __scrt_throw_std_bad_array_new_length();
>            }
>            else
>            {
>                __scrt_throw_std_bad_alloc();
>            }
>        }
>
>        // The new handler was successful; try to allocate again...
>    }
>}
>```

**æ€»ç»“ï¼š** ä¸ç®¡æ˜¯`new`è¿˜æ˜¯`operator new`ç”³è¯·å†…å­˜éƒ½æ˜¯è¦è°ƒç”¨`malloc`æ¥å‘ç³»ç»Ÿç”³è¯·ï¼Œè€Œå®ƒä¸¤çš„ä½¿ç”¨æ–¹æ³•ä¹Ÿå®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯`operator new`ä¼šæœ‰æŠ›å¼‚å¸¸å¤„ç†ï¼Œè€Œ`malloc`åˆ™æ²¡æœ‰ã€‚



## operator newå’Œoperator deleteé‡è½½

> è¯¥é‡è½½æ˜¯ç”¨äºä½¿ç”¨è‡ªå·±æˆ–å®ƒäººå†™çš„å†…å­˜æ± æ‰é‡è½½ï¼Œè™½ç„¶å†…å­˜æ± çš„å†…å­˜ä¹Ÿæ˜¯é€šè¿‡`malloc`å‘ç³»ç»Ÿç”³è¯·çš„ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€æ¬¡æ€§ç”³è¯·å¾ˆå¤šå†…å­˜å¦‚æœéœ€è¦å†…å­˜ç›´æ¥ä»å†…å­˜æ± å–ï¼Œè€Œå¦‚æœä½¿ç”¨`malloc`æ¥ç”³è¯·ä¼šæ¨é¢‘ç¹ä»è€Œå¯¼è‡´æ•ˆç‡çš„ä¸‹é™ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå†…å­˜æ± é‚£ä¹ˆå°†ä¼šæé«˜å‘ç³»ç»Ÿç”³è¯·å†…å­˜çš„æ•ˆç‡ã€‚
>
>  ![image-20220223120318921](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281317003.png)

## å®šä½new

> å®šä½`new`ä¸€èˆ¬ä¹Ÿæ˜¯ç”¨äºæ­é…å†…å­˜æ± ä½¿ç”¨ï¼Œè€Œå®šä½`new`åœ¨ä½¿ç”¨æ—¶å¿…é¡»æ˜¯æŒ‡é’ˆå˜é‡ã€‚
>
> **ä½¿ç”¨æ–¹æ³•ï¼š** `new`(æŒ‡é’ˆå˜é‡) ç±»å‹ æˆ– `new`ï¼ˆæŒ‡é’ˆå˜é‡ï¼‰ ç±»å‹(æŒ‡å®šåˆå§‹åŒ–å€¼)
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> class A
> {
> public:
> 	A(int a = 0)
> 		:_a(a)
> 	{}
> 
> private:
> 	int _a;
> };
> 
> int main()
> {
> 	A* p1 = (A*)malloc(sizeof(A));
> 	A* p2 = (A*)malloc(sizeof(A));
> 
> 	//å®šä½new
> 	new(p1) A;//è°ƒç”¨Açš„æ„é€ å‡½æ•°ç»™p1çš„æŒ‡å‘åˆå§‹åŒ–
> 	new(p2) A(20);//è°ƒç”¨Açš„æ„é€ å‡½æ•°ç»™p1çš„æŒ‡å‘åˆå§‹åŒ–æˆæŒ‡å®šå€¼
> 
> 	return 0;
> }
> ```



## newå’Œdeleteå®ç°åŸç†

### å†…ç½®ç±»å‹

> å¦‚æœç”³è¯·çš„æ˜¯å†…ç½®ç±»å‹çš„ç©ºé—´ï¼Œ`new`å’Œ`malloc`ï¼Œ`delete`å’Œ`free`åŸºæœ¬ç±»ä¼¼ï¼Œä¸åŒçš„åœ°æ–¹æ˜¯ï¼š`new`/`delete`ç”³è¯·å’Œé‡Šæ”¾çš„æ˜¯å•ä¸ªå…ƒç´ çš„ç©ºé—´ï¼Œ`new`[]å’Œ`delete`[]ç”³è¯·çš„æ˜¯è¿ç»­ç©ºé—´ï¼Œè€Œä¸”`new`åœ¨ç”³è¯·ç©ºé—´å¤±è´¥æ—¶ä¼šæŠ›å¼‚å¸¸ï¼Œ`malloc`ä¼šè¿”å›`NULL`ã€‚

### è‡ªå®šä¹‰ç±»å‹

> + `new`çš„åŸç†
>   1. è°ƒç”¨`operator new`å‡½æ•°ç”³è¯·ç©ºé—´
>   2.  åœ¨ç”³è¯·çš„ç©ºé—´ä¸Šæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œå®Œæˆå¯¹è±¡çš„æ„é€ 
> + `delete`çš„åŸç†
>   1. åœ¨ç©ºé—´ä¸Šæ‰§è¡Œææ„å‡½æ•°ï¼Œå®Œæˆå¯¹è±¡ä¸­èµ„æºçš„æ¸…ç†å·¥ä½œ
>   2. è°ƒç”¨operator deleteå‡½æ•°é‡Šæ”¾å¯¹è±¡çš„ç©ºé—´
> + `new T[]`çš„åŸç†
>   1. è°ƒç”¨operator new[]å‡½æ•°ï¼Œåœ¨operator new[]ä¸­å®é™…è°ƒç”¨operator newå‡½æ•°å®ŒæˆNä¸ªå¯¹è±¡ç©ºé—´çš„ç”³è¯·
>   2. åœ¨ç”³è¯·çš„ç©ºé—´ä¸Šæ‰§è¡ŒNæ¬¡æ„é€ å‡½æ•°
> + `delete[]`çš„åŸç†
>   1. åœ¨é‡Šæ”¾çš„å¯¹è±¡ç©ºé—´ä¸Šæ‰§è¡ŒNæ¬¡ææ„å‡½æ•°ï¼Œå®ŒæˆNä¸ªå¯¹è±¡ä¸­èµ„æºçš„æ¸…ç†
>   2. è°ƒç”¨operator delete[]é‡Šæ”¾ç©ºé—´ï¼Œå®é™…åœ¨operator delete[]ä¸­è°ƒç”¨operator deleteæ¥é‡Šæ”¾ç©ºé—´

## C++çš„åŠ¨æ€ç”³è¯·é‡Šæ”¾å’ŒCè¯­è¨€çš„æœ‰ä½•åŒºåˆ«

> `malloc`/`free`å’Œ`new`/`delete`çš„å…±åŒç‚¹æ˜¯ï¼šéƒ½æ˜¯ä»å †ä¸Šç”³è¯·ç©ºé—´ï¼Œå¹¶ä¸”éœ€è¦ç”¨æˆ·æ‰‹åŠ¨é‡Šæ”¾ã€‚
>
> **ä¸åŒçš„åœ°æ–¹æ˜¯ï¼š**
>
> 1. `malloc`å’Œ`free`æ˜¯å‡½æ•°ï¼Œ`new`å’Œ`delete`æ˜¯æ“ä½œç¬¦
>
> 2. `malloc`ç”³è¯·çš„ç©ºé—´ä¸ä¼šåˆå§‹åŒ–ï¼Œ`new`å¯ä»¥åˆå§‹åŒ–
>
> 3. `malloc`ç”³è¯·ç©ºé—´æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨è®¡ç®—ç©ºé—´å¤§å°å¹¶ä¼ é€’ï¼Œ`new`åªéœ€åœ¨å…¶åè·Ÿä¸Šç©ºé—´çš„ç±»å‹å³å¯
>
> 4. `malloc`çš„è¿”å›å€¼ä¸º`void*`, åœ¨ä½¿ç”¨æ—¶å¿…é¡»å¼ºè½¬ï¼Œ`new`ä¸éœ€è¦ï¼Œå› ä¸º`new`åè·Ÿçš„æ˜¯ç©ºé—´çš„ç±»å‹
>
> 5. `malloc`ç”³è¯·ç©ºé—´å¤±è´¥æ—¶ï¼Œè¿”å›çš„æ˜¯`NULL`ï¼Œå› æ­¤ä½¿ç”¨æ—¶å¿…é¡»åˆ¤ç©ºï¼Œ`new`ä¸éœ€è¦ï¼Œä½†æ˜¯`new`éœ€è¦æ•è·å¼‚å¸¸
>
> 6. ç”³è¯·è‡ªå®šä¹‰ç±»å‹å¯¹è±¡æ—¶ï¼Œ`malloc`/`free`åªä¼šå¼€è¾Ÿç©ºé—´ï¼Œä¸ä¼šè°ƒç”¨æ„é€ å‡½æ•°ä¸ææ„å‡½æ•°ï¼Œè€Œ`new`åœ¨ç”³è¯·ç©ºé—´åä¼šè°ƒç”¨æ„é€ å‡½æ•°å®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œ`delete`åœ¨é‡Šæ”¾ç©ºé—´å‰ä¼šè°ƒç”¨ææ„å‡½æ•°å®Œæˆç©ºé—´ä¸­èµ„æºçš„æ¸…ç†

## ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼Ÿ

>**ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼š** å†…å­˜æ³„æ¼æŒ‡å› ä¸ºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜çš„æƒ…å†µã€‚
>
>å†…å­˜æ³„æ¼å¹¶ä¸æ˜¯æŒ‡å†…å­˜åœ¨ç‰©ç†ä¸Šçš„æ¶ˆå¤±ï¼Œè€Œæ˜¯åº”ç”¨ç¨‹åºåˆ†é…æŸæ®µå†…å­˜åï¼Œå› ä¸ºè®¾è®¡é”™è¯¯ï¼Œå¤±å»äº†å¯¹è¯¥æ®µå†…å­˜çš„æ§åˆ¶ï¼Œå› è€Œé€ æˆäº†å†…å­˜çš„æµªè´¹ã€‚

### å†…å­˜æ³„æ¼çš„å±å®³

> **å†…å­˜æ³„æ¼çš„å±å®³ï¼š** é•¿æœŸè¿è¡Œçš„ç¨‹åºå‡ºç°å†…å­˜æ³„æ¼ï¼Œå½±å“å¾ˆå¤§ï¼Œå¦‚æ“ä½œç³»ç»Ÿã€åå°æœåŠ¡ç­‰ç­‰ï¼Œå‡ºç°å†…å­˜æ³„æ¼ä¼šå¯¼è‡´å“åº”è¶Šæ¥è¶Šæ…¢ï¼Œæœ€ç»ˆå¡æ­»ã€‚

### å†…å­˜æ³„æ¼çš„åˆ†ç±»

> **C/C++ç¨‹åºä¸­ä¸€èˆ¬æˆ‘ä»¬å…³å¿ƒä¸¤ç§æ–¹é¢çš„å†…å­˜æ³„æ¼ï¼š**
>
> + **å †å†…å­˜æ³„æ¼**(`Heap leak`)
>
>   å †å†…å­˜æŒ‡çš„æ˜¯ç¨‹åºæ‰§è¡Œä¸­ä¾æ®é¡»è¦åˆ†é…é€šè¿‡`malloc `/ `calloc `/ `realloc `/ newç­‰ä»å †ä¸­åˆ†é…çš„ä¸€å—å†…å­˜ï¼Œç”¨å®Œåå¿…é¡»é€šè¿‡è°ƒç”¨ç›¸åº”çš„ `free`æˆ–è€…`delete `åˆ æ‰ã€‚
>
>   å‡è®¾ç¨‹åºçš„è®¾è®¡é”™è¯¯å¯¼è‡´è¿™éƒ¨åˆ†å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œé‚£ä¹ˆä»¥åè¿™éƒ¨åˆ†ç©ºé—´å°†æ— æ³•å†è¢«ä½¿ç”¨ï¼Œå°±ä¼šäº§ç”Ÿ`Heap Leak`ã€‚
>
> + **ç³»ç»Ÿèµ„æºæ³„æ¼**
>
>   æŒ‡ç¨‹åºä½¿ç”¨ç³»ç»Ÿåˆ†é…çš„èµ„æºï¼Œæ¯”æ–¹å¥—æ¥å­—ã€æ–‡ä»¶æè¿°ç¬¦ã€ç®¡é“ç­‰æ²¡æœ‰ä½¿ç”¨å¯¹åº”çš„å‡½æ•°é‡Šæ”¾æ‰ï¼Œå¯¼è‡´ç³»ç»Ÿèµ„æºçš„æµªè´¹ï¼Œä¸¥é‡å¯å¯¼è‡´ç³»ç»Ÿæ•ˆèƒ½å‡å°‘ï¼Œç³»ç»Ÿæ‰§è¡Œä¸ç¨³å®šã€‚

### å¦‚ä½•é¿å…å†…å­˜æ³„æ¼ï¼Ÿ

> 1. å·¥ç¨‹å‰æœŸè‰¯å¥½çš„è®¾è®¡è§„èŒƒï¼Œå…»æˆè‰¯å¥½çš„ç¼–ç è§„èŒƒï¼Œç”³è¯·çš„å†…å­˜ç©ºé—´è®°ç€åŒ¹é…çš„å»é‡Šæ”¾ã€‚psï¼šè¿™ä¸ªç†æƒ³çŠ¶æ€ã€‚
>
>    ä½†æ˜¯å¦‚æœç¢°ä¸Šå¼‚å¸¸æ—¶ï¼Œå°±ç®—æ³¨æ„é‡Šæ”¾äº†ï¼Œè¿˜æ˜¯å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚éœ€è¦ä¸‹ä¸€æ¡æ™ºèƒ½æŒ‡é’ˆæ¥ç®¡ç†æ‰æœ‰ä¿è¯ã€‚
>
> 2. é‡‡ç”¨RAIIæ€æƒ³æˆ–è€…æ™ºèƒ½æŒ‡é’ˆæ¥ç®¡ç†èµ„æºã€‚
>
> 3. æœ‰äº›å…¬å¸å†…éƒ¨è§„èŒƒä½¿ç”¨å†…éƒ¨å®ç°çš„ç§æœ‰å†…å­˜ç®¡ç†åº“ã€‚è¿™å¥—åº“è‡ªå¸¦å†…å­˜æ³„æ¼æ£€æµ‹çš„åŠŸèƒ½é€‰é¡¹ã€‚
>
> 4. å‡ºé—®é¢˜äº†ä½¿ç”¨å†…å­˜æ³„æ¼å·¥å…·æ£€æµ‹ã€‚psï¼šä¸è¿‡å¾ˆå¤šå·¥å…·éƒ½ä¸å¤Ÿé è°±ï¼Œæˆ–è€…æ”¶è´¹æ˜‚è´µã€‚
>
> **æ€»ç»“ï¼š** å†…å­˜æ³„æ¼éå¸¸å¸¸è§ï¼Œ**è§£å†³æ–¹æ¡ˆåˆ†ä¸ºä¸¤ç§ï¼š**
>
> 1. äº‹å‰é¢„é˜²å‹ã€‚å¦‚æ™ºèƒ½æŒ‡é’ˆç­‰ã€‚
>
> 2. äº‹åæŸ¥é”™å‹ã€‚å¦‚æ³„æ¼æ£€æµ‹å·¥å…·ã€‚



# æ¨¡æ¿

## æ³›å‹ç¼–ç¨‹

> æ³›å‹ç¼–ç¨‹æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°èƒ½é€‚åº”å„ç§ä¸åŒç±»å‹çš„å‚æ•°ï¼Œå¦‚æœC++æƒ³å®ç°æ³›å‹ç¼–ç¨‹çš„è¯å¯ä»¥ä½¿ç”¨å‡½æ•°é‡è½½æ¥å®Œæˆï¼Œ**ä½†æ˜¯æœ‰å‡ ç‚¹ä¸å¥½çš„åœ°æ–¹ï¼Œå¦‚ä¸‹ï¼š**
>
> 1. é‡è½½çš„å‡½æ•°ä»…ä»…åªæ˜¯ç±»å‹ä¸åŒï¼Œä»£ç çš„å¤ç”¨ç‡æ¯”è¾ƒä½ï¼Œåªè¦æœ‰æ–°ç±»å‹å‡ºç°æ—¶ï¼Œå°±éœ€è¦å¢åŠ å¯¹åº”çš„å‡½æ•°
> 2. ä»£ç çš„å¯ç»´æŠ¤æ€§æ¯”è¾ƒä½ï¼Œä¸€ä¸ªå‡ºé”™å¯èƒ½æ‰€æœ‰çš„é‡è½½å‡å‡ºé”™
>
> C++ä¸ºäº†å®Œç¾çš„å®ç°æ³›å‹ç¼–ç¨‹äºæ˜¯æ¨å‡ºäº†ä¸€ä¸ªæ–°æ¦‚å¿µï¼š**æ¨¡æ¿**

### å‡½æ•°æ¨¡æ¿

#### ä»€ä¹ˆæ˜¯å‡½æ•°æ¨¡æ¿ï¼Ÿ

> å‡½æ•°æ¨¡æ¿ä»£è¡¨äº†ä¸€ä¸ªå‡½æ•°å®¶æ—ï¼Œè¯¥å‡½æ•°æ¨¡æ¿ä¸ç±»å‹æ— å…³ï¼Œåœ¨ä½¿ç”¨æ—¶è¢«å®åˆ—åŒ–ä¼šæ ¹æ®å®å‚çš„ç±»å‹æ¥äº§ç”Ÿç‰¹å®šç±»å‹ç‰ˆæœ¬ã€‚

#### å‡½æ•°æ¨¡æ¿æ ¼å¼

> `template <class A, ..., class B>` æˆ– `template <typename A, â€¦â€¦, typename B>`
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> template<class T>
> void Swap(T& left, T& right)
> {
> 	T temp = left;
> 	left = right;
> 	right = temp;
> }
> ```

#### å‡½æ•°æ¨¡æ¿åŸç†

>  åœ¨ç¼–è¯‘é˜¶æ®µæ—¶ï¼Œå¯¹äºæ¨¡æ¿å‡½æ•°çš„ä½¿ç”¨ï¼Œç¼–è¯‘å™¨éœ€è¦æ ¹æ®ä¼ å…¥çš„å®å‚ç±»å‹æ¥æ¨æ¼”è€Œç”Ÿæˆå¯¹åº”ç±»å‹çš„å‡½æ•°ä»¥ä¾›è°ƒç”¨ã€‚
>
> ![image-20220223125259770](https://cdn.jsdelivr.net/gh/ls02/Image/img/202210281317046.png)

#### å‡½æ•°æ¨¡æ¿å®åˆ—åŒ–

> ç”¨ä¸åŒç±»å‹çš„å‚æ•°ä½¿ç”¨å‡½æ•°æ¨¡æ¿æ—¶ï¼Œç§°ä¸ºå‡½æ•°æ¨¡æ¿çš„å®åˆ—åŒ–ï¼Œ**æ¨¡æ¿å‚æ•°å®åˆ—åŒ–åˆ†ä¸ºä¸¤ç§ï¼š**
>
> 1. éšå¼å®åˆ—åŒ–
>
>    è®©ç¼–è¯‘å™¨æ ¹æ®å®å‚çš„ç±»å‹æ¥æ¨æ¼”å®é™…ç±»å‹
>
>    ```cpp
>    #include <iostream>
>    
>    template<class T>
>    void Swap(T& left, T& right)
>    {
>    	T temp = left;
>    	left = right;
>    	right = temp;
>    }
>    
>    int main()
>    {
>    	int a = 10;
>    	int b = 20;
>    
>    	Swap(a, b);//éšå¼å®åˆ—åŒ–
>    
>    	return 0;
>    }
>    ```
>
> 2. æ˜¾ç¤ºå®åˆ—åŒ–
>
>    ```cpp
>    #include <iostream>
>                                           
>    template<class T>
>    void Swap(T& left, T& right)
>    {
>    	T temp = left;
>    	left = right;
>    	right = temp;
>    }
>                                           
>    int main()
>    {
>    	int a = 10;
>    	int b = 20;
>                                           
>    	Swap<int>(a, b);//æ˜¾ç¤ºå®åˆ—åŒ–
>                                           
>    	return 0;
>    }
>    ```

## ç±»æ¨¡æ¿

### ç±»æ¨¡æ¿å®šä¹‰

> ```cpp
> #include <iostream>
> 
> template <class T>
> class A
> {
> 	T _a;
> 	T _b;
> };
> ```

### ç±»æ¨¡æ¿çš„å®åˆ—åŒ–

> ç±»æ¨¡æ¿å®åˆ—åŒ–ä¸å‡½æ•°æ¨¡æ¿å®åˆ—åŒ–ä¸åŒï¼Œç±»æ¨¡æ¿å®åˆ—åŒ–éœ€è¦åœ¨ç±»æ¨¡æ¿åå­—åè·Ÿ`<>`ï¼Œç„¶åå°†å®åˆ—åŒ–çš„ç±»å‹æ”¾åœ¨`<>`ä¸­å³å¯ï¼Œç±»æ¨¡æ¿åå­—ä¸æ˜¯çœŸæ­£çš„ç±»ï¼Œè€Œå®åˆ—åŒ–çš„ç»“æœæ‰æ˜¯çœŸæ­£çš„ç±»ã€‚
>
> **ä½¿ç”¨æ¡ˆåˆ—ï¼š**
>
> ```cpp
> #include <iostream>
> 
> template <class T>
> class A
> {
> 	T _a;
> 	T _b;
> };
> 
> int main()
> {
> 	A<int> a;
> 	A<double> b;
> }
> ```



### æ¨¡æ¿å‚æ•°

æ¨¡æ¿å‚æ•°æœ‰ä¸¤ç§åˆ†åˆ«æ˜¯ï¼šç±»å‹å‚æ•°å’Œéç±»å‹å‚æ•°ï¼Œæˆ‘ä»¬å¹³å¸¸å¼€å‘ç”¨åˆ°æœ€å¤šçš„å°±æ˜¯ç±»å‹å‚æ•°å¾ˆå°‘ç”¨éç±»å‹å‚æ•°ï¼Œä½†æ˜¯æœ‰äº›åœºæ™¯ä¸‹å´å¾ˆéœ€è¦éç±»å‹å‚æ•°ã€‚

**ç±»å‹å‚æ•°çš„å®šä¹‰ï¼š**

```cpp
template<class T>
class A
{
    T data;
}
```

**éç±»å‹å‚æ•°çš„å®šä¹‰ï¼š**

```cpp
template<size_t N>
class A
{
    int arr[N];
}
```

**æ³¨æ„ï¼šéç±»å‹æ¨¡æ¿å‚æ•°åªèƒ½ä½¿ç”¨æ•´å‹ï¼Œå…¶å®ƒç±»å‹æ— æ³•ä½¿ç”¨**

### æ¨¡æ¿ç‰¹åŒ–

æœ‰æ—¶å€™æˆ‘ä»¬åœ¨ä½¿ç”¨æ¨¡æ¿æ—¶æœ‰äº›åœºæ™¯ä¸‹å®åˆ—åŒ–çš„é€»è¾‘æ˜¯é”™è¯¯çš„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘æˆ‘ä»¬éœ€è¦é’ˆå¯¹è¿™ç§åœºæ™¯è¿›è¡Œå¤„ç†ï¼Œä½†æ˜¯æˆ‘ä»¬åªæœ‰è¿™ä¸€ä¸ªåœºæ™¯éœ€è¦å¤„ç†åˆä¸æƒ³å…¨éƒ¨é‡æ•´è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å‡½æ•°ç‰¹åŒ–æ¥é‡æ„é€»è¾‘ã€‚

#### å‡½æ•°ç‰¹åŒ–

å‡½æ•°ç‰¹åŒ–åªéœ€è¦åœ¨å†™ä¸€ä¸ªç›¸åŒçš„å‡½æ•°ç„¶åæ¨¡æ¿é€‰æ— å‚å‡½æ•°ååé¢æ˜¾ç¤ºå®ä¾‹åŒ–ç±»å‹å³å¯ã€‚

```cpp
template<class T>
bool Equal(const T left, const T right)
{
	std::cout << "æœªç‰¹åŒ–" << std::endl;

	return left == right;
}

//ç‰¹åŒ–
template<>
bool Equal<const char*>(const char* left, const char* right)
{
	std::cout << "ç‰¹åŒ–" << std::endl;

	return strcmp(left, right) == 0;
}


int main(void)
{
	char str1[] = "hello";
	char str2[] = "hello";

	const char* p1 = "hello";
	const char* p2 = "hello";

	std::cout << Equal(1, 3) << std::endl;
	std::cout << Equal(1.1, 1.1) << std::endl;
	std::cout << Equal("nihao", "nihao") << std::endl;
	std::cout << Equal(str1, str2) << std::endl;
	std::cout << Equal(p1, p2) << std::endl;

	return 0;
}
```



#### ç±»ç‰¹åŒ–

ç±»ç‰¹åŒ–æ˜¾ç¤ºæŒ‡å®šç‰¹åŒ–ç±»å‹éœ€è¦åœ¨ç±»ååé¢ç”¨`<>`æ¥æ˜¾ç¤ºç‰¹åŒ–ã€‚

```cpp
#include <iostream>

template<class T, class P>
class A
{

public:
	A(void)
	{
		std::cout << "æœªç‰¹åŒ–" << std::endl;
	}

	T a;
	P b;
};

//å…¨ç‰¹åŒ–
template<>
class A<int, int>
{
public:
	A(void)
	{
		std::cout << "å…¨ç‰¹åŒ–" << std::endl;
	}

	int a;
	int b;
};

//åç‰¹åŒ–
template<class T>
class A<T, int>
{
public:
	A(void)
	{
		std::cout << "åç‰¹åŒ–" << std::endl;
	}

	T a;
	int b;
};


int main(void)
{
	A<int, int> a;
	A<double, double> b;
	A<double, int> c;

	return 0;
}
```

### å…¨ç‰¹åŒ–&åç‰¹åŒ–

+ å…¨ç‰¹åŒ–

  å…¨ç‰¹åŒ–æ˜¯æŒ‡æ¨¡æ¿å‚æ•°éƒ½æ˜¯æŒ‡å®šæ˜¾ç¤ºç‰¹åŒ–

+ åç‰¹åŒ–

  åç‰¹åŒ–æ˜¯æŒ‡ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡æ¿å‚æ•°æ˜¯æ˜¾ç¤ºç‰¹åŒ–ã€‚

# ç»§æ‰¿

## ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ

ç»§æ‰¿æœºåˆ¶æ˜¯é¢å‘å¯¹è±¡ç¨‹åºå®¡è®¡ä½¿ä»£ç å¯ä»¥å¤ç”¨çš„ä¸€ç§é‡è¦æ‰‹æ®µï¼Œå®ƒå…è®¸ç¨‹åºå‘˜åœ¨ä¿æŒåŸæœ‰ç±»çš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ï¼Œå¢åŠ åŠŸèƒ½è¿™æ ·äº§ç”Ÿçš„æ–°ç±»æˆ‘ä»¬ç§°ä¹‹ä¸ºæ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰ã€‚

ç»§æ‰¿å‘ˆç°äº†é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„å±‚æ¬¡ç»“æ„ï¼Œä½“ç°äº†ç”±ç®€å•åˆ°å¤æ‚çš„è®¤çŸ¥è¿‡ç¨‹ï¼Œä»¥å‰æˆ‘ä»¬æ¥è§¦çš„å¤ç”¨éƒ½æ˜¯å‡½æ•°å¤ç”¨ï¼Œç»§æ‰¿æ˜¯ç±»è®¾è®¡å±‚æ¬¡çš„å¤ç”¨ã€‚

## ç»§æ‰¿çš„å®šä¹‰

**å®šä¹‰æ ¼å¼ï¼š**

```cpp
#include <stdio.h>

//åŸºç±»(çˆ¶ç±»ï¼‰
class A
{
private:
	int _a = 1;
};

//Bç»§æ‰¿Aï¼Œç»§æ‰¿æ–¹å¼æ˜¯å…±æœ‰ç»§æ‰¿
//Bæ˜¯æ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰
class B : public A
{
private:
	int _b = 2;
};

void Test1(void)
{
	A a;
	B b;
}

int main(void)
{
	Test1();

	return 0;
}
```

ç»§æ‰¿æœ‰å¤šç§æ–¹å¼åˆ†åˆ«æ˜¯ï¼šå…¬æœ‰ç»§æ‰¿ã€ä¿æŠ¤ç»§æ‰¿å’Œç§æœ‰ç»§æ‰¿ã€‚

æ¯ä¸€ç§ç»§æ‰¿æ–¹å¼éƒ½ä¸åŒä¸»è¦æ˜¯é’ˆå¯¹æˆå‘˜ï¼Œè€Œç»§æ‰¿æ–¹å¼çš„ä¼˜å…ˆçº§æ˜¯ï¼šå…¬æœ‰ç»§æ‰¿>ä¿æŠ¤ç»§æ‰¿>ç§æœ‰ç»§æ‰¿ã€‚

å¦‚æœæ˜¯ç§æœ‰ç»§æ‰¿æˆ–ç§æœ‰æˆå‘˜çš„è¯ï¼Œé‚£ä¹ˆå¯¹äºå­ç±»æ¥è®²æ˜¯çœ‹ä¸åˆ°çˆ¶ç±»çš„ç§æœ‰æˆå‘˜æˆ–æ•´ä¸ªæˆå‘˜ï¼Œä¸»è¦æ˜¯å–å†³äºç»§æ‰¿æ–¹å¼è¿˜æœ‰è¯¥æˆå‘˜çš„å±æ€§å¾€å°çš„å–ã€‚

**æ€»ç»“ï¼š**

1. åŸºç±»`private`æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æ— è®ºä»¥ä»€ä¹ˆå½¢å¼ç»§æ‰¿éƒ½æ˜¯ä¸å¯è§çš„ï¼Œè¿™é‡Œçš„ä¸å¯è§æ˜¯æŒ‡åŸºç±»çš„ç§æœ‰æˆå‘˜è¿˜æ˜¯è¢«ç»§æ‰¿åˆ°äº†æ´¾ç”Ÿç±»å¯¹è±¡ä¸­ï¼Œä½†æ˜¯è¯­æ³•ä¸Šé™åˆ¶æ´¾ç”Ÿç±»å¯¹è±¡ä¸ç®¡åœ¨ç±»é‡Œé¢è¿˜æ˜¯åœ¨ç±»å¤–é¢éƒ½ä¸èƒ½å–è®¿é—®å®ƒã€‚
2. åŸºç±»`private`æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å¼ä¸èƒ½è¢«è®¿é—®ï¼Œå¦‚æœåŸºç±»æˆå‘˜ä¸æƒ³å†ç±»å¤–é¢è¢«ç›´æ¥è®¿é—®ï¼Œä½†éœ€è¦å†æ´¾ç”Ÿç±»ä¸­èƒ½è¢«è®¿é—®å°±å®šä¹‰æˆ`protected`ï¼Œå¯ä»¥çœ‹å‡ºä¿æŠ¤æˆå‘˜é™å®šç¬¦å¼å› ç»§æ‰¿æ‰å‡ºç°çš„ã€‚
3. ä½¿ç”¨å…³é”®å­—`class`æ—¶é»˜è®¤çš„ç»§æ‰¿æ–¹å¼æ˜¯`private`ï¼Œä½¿ç”¨`struct`æ—¶é»˜è®¤çš„ç»§æ‰¿æ–¹å¼æ—¶`public`ï¼Œä¸è¿‡æœ€å¥½æ˜¾ç¤ºçš„å†™å‡ºç»§æ‰¿æ–¹å¼ã€‚
4. åœ¨å®é™…è¿ç”¨ä¸­ä¸€èˆ¬ä½¿ç”¨éƒ½æ˜¯`public`ç»§æ‰¿ï¼Œå‡ ä¹å¾ˆå°‘ä½¿ç”¨`protetced/private`ç»§æ‰¿ä¸‹æ¥çš„æˆå‘˜éƒ½åªèƒ½åœ¨æ´¾ç”Ÿç±»çš„ç±»é‡Œé¢ä½¿ç”¨ï¼Œå®é™…ä¸­çš„æ‰©å±•ç»´æŠ¤æ€§ä¸å¼ºã€‚

## èµ‹å€¼å…¼å®¹

+ æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥èµ‹å€¼ç»™åŸºç±»çš„å¯¹è±¡ã€åŸºç±»çš„æŒ‡é’ˆå’ŒåŸºç±»çš„å¼•ç”¨ï¼Œè¿™é‡Œæœ‰ä¸ªå½¢è±¡çš„è¯´æ³•å«åšåˆ‡ç‰‡æˆ–å«åšåˆ‡å‰²ï¼Œå¯“æ„å§æ´¾ç”Ÿç±»ä¸­çš„çˆ¶ç±»é‚£éƒ¨åˆ†åˆ‡æ¥èµ‹å€¼è¿‡å»ã€‚

+ åŸºç±»å¯¹è±¡ä¸èƒ½èµ‹å€¼ç»™æ´¾ç”Ÿç±»å¯¹è±¡ã€‚

+ åŸºç±»çš„æŒ‡é’ˆå¯ä»¥é€šè¿‡å¼ºåˆ¶ç±»å‹è½¬æ¢èµ‹å€¼ç»™æ´¾ç”Ÿç±»çš„æŒ‡é’ˆï¼Œä½†æ˜¯å¿…é¡»æ˜¯åŸºç±»çš„æŒ‡é’ˆæ˜¯æŒ‡å‘æ´¾ç”Ÿç±»å¯¹ä¸‹ç»™ä½ æ—¶æ‰æ˜¯å®‰å…¨çš„ï¼Œè¿™é‡ŒåŸºç±»å¦‚æœæ˜¯å¤šæ€ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨`RTTI(Run-Time Type Information)`çš„

  [[dynamic_cast](https://baike.baidu.com/item/dynamic_cast)]:æ¥è¿›è¡Œè¯†åˆ«åè¿›è¡Œå®‰å…¨è½¬æ¢ã€‚

  

  ```cpp
  #include <iostream>
  
  class A
  {
  public:
  	A(int a = 10)
  	{
  		_a = a;
  	}
  private:
  	int _a = 1;
  };
  
  class B : public A
  {
  public:
  	B(int b = 20)
  		:A::A(100)
  	{
  		_b = b;
  	}
  private:
  	int _b = 2;
  };
  
  void Test1(void)
  {
  	A a;
  	B b;
  	a = b;
  	A* pa = &b;
  	A& ra = b;
  }
  
  int main(void)
  {
  	Test1();
  
  
  	return 0;
  }
  ```

  ## ç»§æ‰¿çš„ä½œç”¨åŸŸ

  1. åœ¨ç»§æ‰¿ä½“ç³»ä¸­åŸºç±»å’Œæ´¾ç”Ÿç±»éƒ½æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸ
  2. å­ç±»å’Œçˆ¶ç±»ä¸­æœ‰åŒåæˆå‘˜ï¼Œå­ç±»æˆå‘˜å°†å±è”½çˆ¶ç±»å¯¹åŒåæˆå‘˜çš„ç›´æ¥è®¿é—®ï¼Œè¿™ç§æƒ…å†µå«åšéšè—ï¼Œä¹Ÿå«é‡å®šä¹‰ã€‚ï¼ˆåœ¨å­ç±»æˆå‘˜å‡½æ•°ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `åŸºç±»::åŸºç±»æˆå‘˜` æ˜¾ç¤ºè®¿é—®ï¼‰
  3. éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœæ˜¯æˆå‘˜å‡½æ•°çš„éšè—ï¼Œåªéœ€è¦å‡½æ•°åç›¸åŒå°±æ„æˆéšè—ã€‚
  4. æ³¨æ„åœ¨å®é™…ä¸­åœ¨ç»§æ‰¿ä½“ç³»é‡Œé¢æœ€å¥½ä¸è¦å®šä¹‰åŒåçš„æˆå‘˜ã€‚

  ### æ´¾ç”Ÿç±»çš„é»˜è®¤æˆå‘˜å‡½æ•°

  â€‹	å…­ä¸ªé»˜è®¤æˆå‘˜å‡½æ•°ï¼Œâ€œé»˜è®¤â€çš„æ„æ€å°±æ˜¯æŒ‡æˆ‘ä»¬ä¸å†™ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªï¼Œé‚£ä¹ˆåœ¨æ´¾ç”Ÿç±»ä¸­ï¼Œè¿™å‡ ä¸ªæˆå‘˜å‡½æ•°æ˜¯å¦‚ä½•ç”Ÿæˆçš„å‘¢ï¼Ÿ

  1. æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–åŸºç±»çš„é‚£ä¸€éƒ¨åˆ†æˆå‘˜å‡½æ•°ï¼Œå¦‚æœåŸºç±»æ²¡æœ‰é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œåˆ™å¿…é¡»åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨é˜¶æ®µæ˜¾ç¤ºè°ƒç”¨ã€‚
  2. æ´¾ç”Ÿç±»çš„æ‹·è´æ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨åŸºç±»çš„æ‹·è´æ„é€ å®ŒæˆåŸºç±»çš„æ‹·è´åˆå§‹åŒ–ã€‚
  3. æ´¾ç”Ÿç±»çš„`operator`=å¿…é¡»è¦è°ƒç”¨åŸºç±»çš„`opeartor`=å®ŒæˆåŸºç±»çš„å¤åˆ¶ã€‚
  4. æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä¼šåœ¨è¢«è°ƒç”¨å®Œæˆåè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°æ¸…ç†åŸºç±»æˆå‘˜ï¼Œå› ä¸ºè¿™æ ·æ‰èƒ½ä¿è¯æ´¾ç”Ÿç±»å¯¹è±¡å…ˆæ¸…ç†æ´¾ç”Ÿç±»æˆå‘˜å†æ¸…ç†åŸºç±»æˆå‘˜çš„é¡ºåºã€‚
  5. æ´¾ç”Ÿç±»å¯¹è±¡åˆå§‹åŒ–è°ƒç”¨åŸºç±»æ„é€ å†æ´¾ç”Ÿç±»çš„æ„é€ ã€‚

  ## ç»§æ‰¿ä¸å‹å…ƒ

  å‹å…ƒå…³ç³»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä¹Ÿå°±æ˜¯è¯´åŸºç±»å‹å…ƒä¸èƒ½è®¿é—®å­ç±»ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ã€‚

  

  

  ## ç»§æ‰¿ä¸é™æ€æˆå‘˜

  â€‹	åŸºç±»å®šä¹‰äº†`static`é™æ€æˆå‘˜ï¼Œåˆ™æ•´ä¸ªç»§æ‰¿ä½“ç³»é‡Œé¢åªæœ‰ä¸€ä¸ªè¿™æ ·çš„æˆå‘˜ï¼Œæ— è®ºæ´¾ç”Ÿå‡ºå¤šå°‘å­ç±»ï¼Œéƒ½åªæœ‰ä¸€ä¸ª`static`æˆå‘˜å®åˆ—ã€‚

  ## è±å½¢ç»§æ‰¿

  **è±å½¢ç»§æ‰¿ï¼šè±å½¢ç»§æ‰¿æ˜¯å¤šç»§æ‰¿çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚**

  **è±å½¢ç»§æ‰¿çš„é—®é¢˜ï¼šè±å½¢ç»§æ‰¿ä¼šé€ æˆæ•°æ®å†—ä½™å’ŒäºŒä¹‰æ€§é—®é¢˜ã€‚**

  ### è™šç»§æ‰¿

  â€‹	è™šç»§æ‰¿æ˜¯ç”¨æ¥è§£å†³è±å½¢ç»§æ‰¿å‡ºç°çš„äºŒä¹‰æ€§å’Œæ•°æ®å†—ä½™ï¼Œè™šç»§æ‰¿éœ€è¦åˆ°è±å½¢ç»§æ‰¿çš„ä¸­é—´çˆ¶ç±»æ¥è¿›è¡Œè™šç»§æ‰¿æ‰å¯è§£å†³è±å½¢ç»§æ‰¿é—®é¢˜ã€‚

  â€‹	**ä½¿ç”¨æ¡ˆåˆ—ï¼š**

  ```cpp
  #include <iostream>
  
  class A
  {
  public:
  	//A(int a = 10)
  	//{
  	//	_a = a;
  	//}
  private:
  	int _a = 1;
  };
  
  class B : virtual public A
  {
  public:
  	//B(int b = 20)
  	//	:A::A(100)
  	//{
  	//	_b = b;
  	//}
  private:
  	int _b = 2;
  };
  
  class C : virtual public A 
  {
  private:
  	int _c = 3;
  };
  
  class D : public B, public C
  {
  private:
  	int _d = 4;
  };
  
  void Test1(void)
  {
  	A a;
  	B b;
  	a = b;
  	A* pa = &b;
  	A& ra = b;
  }
  
  void Test2(void)
  {
  	D d;
  }
  
  int main(void)
  {
  	Test2();
  	//Test1();
  
  
  	return 0;
  }
  ```

  ### ç»§æ‰¿çš„æ€»ç»“

  1. å¾ˆå¤šäººè¯´C++è¯­æ³•å¤æ‚ï¼Œå…¶å®å¤šç»§æ‰¿å°±æ˜¯ä¸€ä¸ªä½“ç°ï¼Œæœ‰äº†å¤šç»§æ‰¿å°±å­˜åœ¨è±å½¢ç»§æ‰¿ï¼Œæœ‰äº†è±å½¢ç»§æ‰¿å°±æœ‰è™šæ‹Ÿç»§æ‰¿ï¼Œåº•å±‚å®ç°å°±å¾ˆå¤æ‚ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸å»ºè®®è®¾è®¡å‡ºå¤šç»§æ‰¿ï¼Œå¦åˆ™åœ¨å¤æ‚åŠæ€§èƒ½ä¸Šéƒ½æœ‰é—®é¢˜ã€‚

  2. å¤šç»§æ‰¿å¯ä»¥è®¤ä¸ºæ˜¯C++çš„ç¼ºé™·ç›´ä»¥ï¼Œå¾ˆå¤šåæ¥çš„xxè¯­è¨€éƒ½æ²¡æœ‰å¤šç»§æ‰¿ï¼Œæ¯”å¦‚javaã€‚

  3. ç»§æ‰¿å’Œç»„åˆ

     + `public`ç»§æ‰¿æ˜¯ä¸€ç§is-açš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªåŸºç±»å¯¹è±¡ã€‚

     + ç»„åˆå¼ä¸€ç§has-açš„å…³ç³»ï¼Œå‡è®¾Bç»„åˆäº†Aï¼Œæ¯ä¸ªBå¯¹è±¡ä¸­éƒ½æœ‰ä¸€ä¸ªAå¯¹è±¡ã€‚

     + [ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆè€Œä¸æ˜¯ç±»ç»§æ‰¿]([ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿ - æ®‹é›ªä½™é¦™ - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/nexiyi/archive/2013/06/16/3138568.html))

     + ç»§æ‰¿å…è®¸ä½ æ ¹æ®åŸºç±»çš„å®ç°æ¥å®šä¹‰æ´¾ç”Ÿç±»çš„å®ç°ï¼Œè¿™ç§é€šè¿‡ç”Ÿæˆæ´¾ç”Ÿç±»çš„å¤ç”¨é€šå¸¸è¢«ç§°ä¹‹ä¸ºç™½ç®±å¤ç”¨ï¼ˆwhite-box reuseï¼‰ã€‚æœ¯è¯­â€œç™½ç®±â€æ˜¯ç›¸å¯¹å¯è§†æ€§è€Œè¨€ï¼šåœ¨ç»§æ‰¿æ–¹å¼ä¸­ï¼ŒåŸºç±»çš„å†…éƒ¨ç»†èŠ‚å¯¹å­ç±»å¯è§ã€‚

       ç»§æ‰¿ä¸€å®šç¨‹åº¦ç ´åäº†åŸºç±»çš„å°è£…ï¼ŒåŸºç±»çš„æ”¹å˜å¯¹æ´¾ç”Ÿç±»æœ‰å¾ˆå¤§çš„å½±å“ï¼Œæ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ä¾èµ–å…³ç³»å¾ˆå¼ºï¼Œè€¦åˆåº¦å¾ˆé«˜ã€‚

     + å¯¹è±¡ç»„åˆæ˜¯ç±»ç»§æ‰¿ä¹‹å¤–çš„å¦ä¸€ç§å¤ç”¨æ‰‹æ®µï¼Œæ–°çš„æ›´å¤æ‚çš„åŠŸèƒ½å¯ä»¥é€šè¿‡ç»„åˆæˆ–ç»„è£…å¯¹è±¡æ¥è·å¾—ï¼Œå¯¹è±¡ç»„åˆè¦è¢«ç»„åˆçš„å¯¹è±¡å…·æœ‰è‰¯å¥½çš„å®šä¹‰çš„æ¥å£ï¼Œè¿™ç§ä½ æœç”¨é£æ ¼è¢«ç§°ä¹‹ä¸ºé»‘ç®±å¤ç”¨ï¼ˆblack-box reuseï¼‰ï¼Œå› ä¸ºå¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚æ˜¯ä¸å¯è§çš„å¯¹è±¡åªä»¥â€œé»‘ç®±â€çš„å½¢å¼å‡ºç°ã€‚

       ç»„åˆç±»ä¹‹é—´æ²¡æœ‰å¾ˆå¼ºçš„ä¾èµ–å…³ç³»ï¼Œè€¦åˆåº¦å¾ˆä½ï¼Œä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆæœ‰åŠ©äºä½ ä¿æŒæ¯ä¸ªç±»è¢«å°è£…ã€‚

     + å®é™…å°½é‡å¤šå»ç”¨ç»„åˆï¼Œç»„åˆçš„è€¦åˆåº¦å¾ˆä½ï¼Œä»£ç ç»´æŠ¤æ€§å¥½ï¼Œä¸è¿‡ç»§æ‰¿ä¹Ÿæœ‰ç”¨æ­¦ä¹‹åœ°çš„ï¼Œæœ‰äº›å…³ç³»å°±é€‚åˆç»§æ‰¿é‚£å°±ç”¨ç»§æ‰¿ï¼Œå¦å¤–è¦å®ç°å¤šæ€ä¹Ÿå¿…é¡»è¦ç»§æ‰¿ã€‚ç±»ä¹‹é—´çš„å…³ç³»å¯ä»¥ç”¨ç»§æ‰¿ï¼Œå¯ä»¥ç”¨ç»„åˆå°±ç”¨ç»„åˆã€‚

     

     

     # å¤šæ€

     ## å¤šæ€çš„æ¦‚å¿µ

     â€‹	**å¤šæ€çš„æ¦‚å¿µï¼šé€šä¿—æ¥è®²å°±æ˜¯å¤šç§å½¢æ€ï¼Œä¸åŒå¯¹è±¡è¿›è¡ŒåŒä¸€ä¸ªä»»åŠ¡ä¼šæœ‰ä¸åŒçš„ç»“æœï¼Œè¿™å°±æ˜¯å¤šæ€ã€‚**

  ## å¤šæ€çš„æ„æˆæ¡ä»¶

  â€‹	å¤šæ€æ˜¯åœ¨ä¸åŒç»§æ‰¿å…³ç³»çš„ç±»å¯¹è±¡ï¼Œå»è°ƒç”¨åŒä¸€å‡½æ•°ï¼Œäº§ç”Ÿäº†ä¸åŒçš„è¡Œä¸ºã€‚

  â€‹	é‚£ä¹ˆåœ¨ç»§æ‰¿ä¸­è¦æ„æˆå¤šæ€è¿˜æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š

  1. å¿…é¡»é€šè¿‡åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°
  2. è¢«è°ƒç”¨çš„å‡½æ•°å¿…é¡»æ˜¯è™šå‡½æ•°ä¸”æ´¾ç”Ÿç±»å¿…é¡»å¯¹åŸºç±»çš„è™šå‡½æ•°è¿›è¡Œé‡å†™

  ## è™šå‡½æ•°

  â€‹	**è™šå‡½æ•°ï¼šè¢«`virtual`ä¿®é¥°çš„ç±»æˆå‘˜å‡½æ•°ç§°ä¸ºè™šå‡½æ•°ã€‚**

  ## è™šå‡½æ•°çš„é‡å†™

  è™šå‡½æ•°çš„é‡å†™ï¼ˆè¦†ç›–ï¼‰ï¼šæ´¾ç”Ÿç±»ä¸­æœ‰ä¸€ä¸ªè·ŸåŸºç±»å®Œå…¨ç›¸åŒçš„è™šå‡½æ•°ï¼ˆå³æ´¾ç”Ÿç±»è™šå‡½æ•°ä¸åŸºç±»è™šå‡½æ•°çš„è¿”å›å€¼ç±»å‹ã€å‡½æ•°åå­—å’Œå‚æ•°åˆ—è¡¨å®Œå…¨ç›¸åŒï¼‰ï¼Œç§°å­ç±»çš„è™šå‡½æ•°é‡å†™äº†çˆ¶ç±»çš„è™šå‡½æ•°ã€‚

  **ä½¿ç”¨æ¡ˆåˆ—ï¼š**

  ```cpp
  #include <iostream>
  #include <string>
  
  class People
  {
  public:
  	//è™šå‡½æ•°çš„å®šä¹‰
  	virtual void Func(void)
  	{
  		std::cout << "æ™®é€šäººâ€”â€”å…¨ä»·ç¥¨" << std::endl;
  	}
  private:
  	std::string sex;
  	short age;
  };
  
  class Students : public People
  {
  public:
  	//å­ç±»é‡å†™çˆ¶ç±»çš„è™šå‡½æ•°
  	virtual void Func(void)
  	{
  		std::cout << "å­¦ç”Ÿâ€”â€”åŠä»·ç¥¨" << std::endl;
  	}
  };
  
  
  class Soldier : public People
  {
  public:
  	//å­ç±»é‡å†™çˆ¶ç±»çš„è™šå‡½æ•°
  	virtual void Func(void)
  	{
  		std::cout << "å†›äººâ€”â€”ä¼˜å…ˆè´­ç¥¨" << std::endl;
  	}
  };
  
  void Test1(People& rp)
  {
  	rp.Func();
  }
  
  int main(void)
  {
  	People p;
  	Students s;
  	Soldier so;
  
  	Test1(p);
  	Test1(s);
  	Test1(so);
  
  	return 0;
  }
  ```

  **æ³¨æ„ï¼šå¦‚æœç»§æ‰¿çš„çˆ¶ç±»å‡½æ•°æ˜¯è™šå‡½æ•°é‚£ä¹ˆä¹‹ç±»å¯ä»¥ä¸ç”¨åŠ `virtual`ä¹Ÿå¯ä»¥é‡å†™**

### è™šå‡½æ•°é‡å†™çš„ä¸¤ä¸ªåˆ—å¤–

1. åå˜ï¼ˆåŸºç±»äºæ´¾ç”Ÿç±»è™šå‡½æ•°è¿”å›ç±»å‹ä¸åŒï¼‰

   æ´¾ç”Ÿç±»é‡å†™åŸºç±»è™šå‡½æ•°æ—¶ä¸åŸºç±»è™šå‡½æ•°è¿”å›å€¼ç±»å‹ä¸åŒã€‚å³åŸºç±»è™šå‡½æ•°è¿”å›åŸºç±»å¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œæ´¾ç”Ÿç±»è™šå‡½æ•°è¿”å›æ´¾ç”Ÿç±»å¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ—¶ï¼Œç§°ä¹‹ä¸ºåå˜ã€‚

   **ä½¿ç”¨æ¡ˆåˆ—ï¼š**

   ```cpp
   #include <iostream>
   #include <string>
   
   class A
   {
   public:
   	virtual A& Func(void)
   	{
   		std::cout << "A" << std::endl;
   
   		return *this;
   	}
   };
   
   class B : public A
   {
   public:
   	virtual B& Func(void)
   	{
   		std::cout << "B" << std::endl;
   
   		return *this;
   	}
   };
   
   void Test(A& a)
   {
   	a.Func();
   }
   
   int main(void)
   {
   	A a;
   	B b;
   
   	Test(a);
   	Test(b);
   
   	return 0;
   }
   ```

2. ææ„å‡½æ•°çš„é‡å†™ï¼ˆåŸºç±»ä¸æ´¾ç”Ÿç±»ææ„å‡½æ•°çš„åå­—ä¸åŒï¼‰

   å¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸ºè™šå‡½æ•°ï¼Œæ­¤æ—¶æ´¾ç”Ÿç±»ææ„å‡½æ•°åªè¦å®šä¹‰ï¼Œæ— è®ºæ˜¯å¦åŠ `virtual`å…³é”®å­—ï¼Œéƒ½ä¸åŸºç±»çš„ææ„å‡½æ•°é‡å†™ï¼Œè™½ç„¶åŸºç±»ä¸æ´¾ç”Ÿç±»ææ„å‡½æ•°åå­—ä¸åŒã€‚è™½ç„¶å‡½æ•°åä¸åŒï¼Œçœ‹èµ·æ¥è¿èƒŒäº†é‡å†™çš„è§„åˆ™ï¼Œå…¶å®ä¸ç„¶è¿™é‡Œå¯ä»¥ç†è§£ä¸ºç¼–è¯‘å™¨å¯¹ææ„å‡½æ•°çš„åç§°åšäº†ç‰¹æ®Šå¤„ç†ï¼Œç¼–è¯‘åææ„å‡½æ•°çš„åç§°ç»Ÿä¸€å¤„ç†æˆ`destructor`ã€‚

   **ä½¿ç”¨æ¡ˆåˆ—ï¼š**

   ```cpp
   #include <iostream>
   #include <string>
   
   class A
   {
   public:
   	virtual ~A(void)
   	{
   		std::cout << "~A" << std::endl;
   	}
   };
   
   class B : public A
   {
   public:
   	virtual ~B(void)
   	{
   		std::cout << "B" << std::endl;
   	}
   };
   
   int main(void)
   {
   	A* pa = new A;
   	A* pb = new B;
   
   	delete pa;
   	delete pb;
   
   	return 0;
   }
   ```

   



### æŠ½è±¡ç±»

#### æ¦‚å¿µ

â€‹	åœ¨è™šå‡½æ•°çš„åé¢å†™ä¸Š=0ï¼Œåˆ™è¿™ä¸ªå‡½æ•°ä¸ºçº¯è™šå‡½æ•°ï¼ŒåŒ…å«çº¯è™šå‡½æ•°çš„ç±»å«åšæŠ½è±¡ç±»ï¼ˆä¹Ÿå«æ¥å£ç±»ï¼‰ï¼ŒæŠ½è±¡ç±»ä¸èƒ½å®åˆ—åŒ–å‡ºå¯¹è±¡ã€‚

æ´¾ç”Ÿç±»ç»§æ‰¿åé‡ä¸èƒ½ç›´æ¥å®åˆ—åŒ–å‡ºå¯¹è±¡ï¼Œåªæœ‰é‡å†™äº†çº¯è™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»æ‰èƒ½å®åˆ—åŒ–å‡ºå¯¹è±¡ï¼Œçº¯è™šå‡½æ•°è§„èŒƒäº†æ´¾ç”Ÿç±»å¿…é¡»é‡å†™ï¼Œå¦å¤–çº¯è™šå‡½æ•°æ›´ä½“ç°äº†æ¥å£ç»§æ‰¿ã€‚

**ä½¿ç”¨æ¡ˆåˆ—ï¼š**

```cpp
#include <iostream>
#include <string>

class A
{
public:
	virtual void Test(void) = 0
	{
		std::cout << "A" << std::endl;
	}
};

class B : public A
{
public:
	virtual void Test(void)
	{
		std::cout << "B" << std::endl;
	}
};

int main(void)
{
	A* pb = new B;
	pb->Test();

	return 0;
}
```



#### æ¥å£çš„ç»§æ‰¿å’Œå®ç°ç»§æ‰¿

æ™®é€šå‡½æ•°çš„ç»§æ‰¿æ˜¯ä¸€ç§å®ç°ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»ç»§æ‰¿äº†åŸºç±»å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°ç»§æ‰¿çš„æ˜¯å‡½æ•°çš„å®ç°ã€‚

è™šå‡½æ•°çš„ç»§æ‰¿æ˜¯ä¸€ç§æ¥å£ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»ç»§æ‰¿çš„æ˜¯åŸºç±»è™šå‡½æ•°æ¥å£ï¼Œç›®çš„æ˜¯ä¸ºäº†é‡å†™è¾¾æˆå¤šæ€ç»§æ‰¿æ˜¯æ¥å£ã€‚

æ‰€ä»¥å¦‚æœä¸å®ç°å¤šæ€ï¼Œä¸è¦æŠŠå‡½æ•°å®šä¹‰æˆè™šå‡½æ•°ã€‚



# ğŸ¥—ğŸ¥—ğŸ¥—å•åˆ—æ¨¡å¼

å•åˆ—æ¨¡å¼æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ¨¡å¼ï¼Œå½“æŸä¸ªåœºæ™¯å…¨å±€åªèƒ½æœ‰ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬è¿™æ—¶å°±ä¼šç”¨åˆ°å•åˆ—æ¨¡å¼æ¥è®¾è®¡ç¨‹åºã€‚

é‚£ä¹ˆæ€ä¹ˆä¿è¯å…¨å±€åªèƒ½æœ‰ä¸€ä¸ªå¯¹è±¡å‘¢ï¼Ÿè¿™æ—¶æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸ªé™æ€çš„ç±»æˆå‘˜æŒ‡é’ˆä¸”æŠŠæ”¹ç±»çš„é»˜è®¤æ„é€ å‡½æ•°å®šä¹‰ä¸ºç§æœ‰ï¼Œæ‹·è´æ„é€ å’Œèµ‹å€¼é‡è½½ç¦ç”¨è¿™æ—¶æ”¹æˆå‘˜å˜é‡åªèƒ½åŒè¿‡`new`æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡è€Œä¸èƒ½ç›´æ¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡è¿™å°±ä¿è¯äº†å…¨å±€åªèƒ½æœ‰ä¸€ä¸ªå¯¹è±¡ã€‚

## é¥¿æ±‰æ¨¡å¼

é¥¿æ±‰æ¨¡å¼æˆå‘˜å‡½æ•°åˆå§‹åŒ–åªèƒ½åœ¨`main`å‡½æ•°å¼€å§‹ä¹‹å‰åˆå§‹åŒ–ï¼Œè¿™å°±ä¿è¯äº†å…¨å±€åªæœ‰ä¸€ä¸ªå¯¹è±¡ã€‚

```cpp
//é¥¿æ±‰æ¨¡å¼
class Singleton
{
private:
	Singleton()
		:_a(0)
	{};

	Singleton(const Singleton&) = delete;
	Singleton& operator=(const Singleton&) = delete;

	size_t _a;
	static Singleton* _inst;

public:
	static Singleton* GetInstance(void)
	{
		return _inst;
	}
};

Singleton* Singleton::_inst = new Singleton;
```

## æ‡’æ±‰æ¨¡å¼

æ‡’æ±‰æ¨¡å¼æ˜¯ç”¨æ¥è§£å†³è¿›ç¨‹å¯åŠ¨æ…¢çš„é—®é¢˜ï¼Œå› ä¸ºé¥¿æ±‰æ¨¡å¼è¦åœ¨è¿›å…¥`main`å‡½æ•°ä¹‹å‰åˆå§‹åŒ–å¦‚æœåˆå§‹åŒ–å¯¹è±¡è¿‡å¤§ä¼šå¯¼è‡´è¿›å…¥`main`å‡½æ•°æ—¶é—´è¿‡ä¹…ç”¨æˆ·ä½“éªŒä¸å¤ªå¥½ã€‚

```cpp
//æ‡’æ±‰æ¨¡å¼
class Singleton
{
private:
	Singleton()
		:_a(0)
	{};

	Singleton(const Singleton&) = delete;
	Singleton& operator=(const Singleton&) = delete;

	size_t _a;
	static Singleton* _inst;
	static std::mutex _mut;

public:
	static Singleton* GetInstance(void)
	{
		if (nullptr == _inst)
		{
			_mut.lock();

			if (nullptr == _inst)
			{
				_inst = new Singleton;
			}

			_mut.unlock();
		}
		return _inst;
	}
};

std::mutex Singleton::_mut;

Singleton* Singleton::_inst = nullptr;
```

# C++11

## Lambdaè¡¨è¾¾å¼

 
